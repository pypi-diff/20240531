# Comparing `tmp/modal-0.62.98-py3-none-any.whl.zip` & `tmp/modal-0.62.99-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,205 +1,209 @@
-Zip file size: 453911 bytes, number of entries: 203
--rw-r--r--  2.0 unx     2100 b- defN 24-Apr-21 19:39 modal/__init__.py
--rw-r--r--  2.0 unx     1141 b- defN 24-Apr-21 19:39 modal/__main__.py
--rw-r--r--  2.0 unx    15476 b- defN 24-Apr-21 19:39 modal/_asgi.py
--rw-r--r--  2.0 unx    28421 b- defN 24-Apr-21 19:39 modal/_container_entrypoint.py
--rw-r--r--  2.0 unx     4349 b- defN 24-Apr-21 19:39 modal/_container_exec.py
--rw-r--r--  2.0 unx    28709 b- defN 24-Apr-21 19:39 modal/_container_io_manager.py
--rw-r--r--  2.0 unx    12668 b- defN 24-Apr-21 19:40 modal/_container_io_manager.pyi
--rw-r--r--  2.0 unx      450 b- defN 24-Apr-21 19:39 modal/_ipython.py
--rw-r--r--  2.0 unx      929 b- defN 24-Apr-21 19:39 modal/_location.py
--rw-r--r--  2.0 unx    20565 b- defN 24-Apr-21 19:39 modal/_output.py
--rw-r--r--  2.0 unx     1906 b- defN 24-Apr-21 19:39 modal/_proxy_tunnel.py
--rw-r--r--  2.0 unx     1336 b- defN 24-Apr-21 19:39 modal/_pty.py
--rw-r--r--  2.0 unx     7077 b- defN 24-Apr-21 19:39 modal/_resolver.py
--rw-r--r--  2.0 unx     1142 b- defN 24-Apr-21 19:39 modal/_resources.py
--rw-r--r--  2.0 unx     1658 b- defN 24-Apr-21 19:39 modal/_sandbox_shell.py
--rw-r--r--  2.0 unx    12133 b- defN 24-Apr-21 19:39 modal/_serialization.py
--rw-r--r--  2.0 unx    10029 b- defN 24-Apr-21 19:39 modal/_traceback.py
--rw-r--r--  2.0 unx     5171 b- defN 24-Apr-21 19:39 modal/_tunnel.py
--rw-r--r--  2.0 unx     1337 b- defN 24-Apr-21 19:40 modal/_tunnel.pyi
--rw-r--r--  2.0 unx     3605 b- defN 24-Apr-21 19:39 modal/_watcher.py
--rw-r--r--  2.0 unx    35868 b- defN 24-Apr-21 19:39 modal/app.py
--rw-r--r--  2.0 unx    19109 b- defN 24-Apr-21 19:40 modal/app.pyi
--rw-r--r--  2.0 unx      748 b- defN 24-Apr-21 19:39 modal/app_utils.py
--rw-r--r--  2.0 unx      613 b- defN 24-Apr-21 19:40 modal/app_utils.pyi
--rw-r--r--  2.0 unx     2524 b- defN 24-Apr-21 19:39 modal/call_graph.py
--rw-r--r--  2.0 unx    10828 b- defN 24-Apr-21 19:39 modal/client.py
--rw-r--r--  2.0 unx     4006 b- defN 24-Apr-21 19:40 modal/client.pyi
--rw-r--r--  2.0 unx     5700 b- defN 24-Apr-21 19:39 modal/cloud_bucket_mount.py
--rw-r--r--  2.0 unx     1217 b- defN 24-Apr-21 19:40 modal/cloud_bucket_mount.pyi
--rw-r--r--  2.0 unx    12734 b- defN 24-Apr-21 19:39 modal/cls.py
--rw-r--r--  2.0 unx     6521 b- defN 24-Apr-21 19:40 modal/cls.pyi
--rw-r--r--  2.0 unx     9980 b- defN 24-Apr-21 19:39 modal/config.py
--rw-r--r--  2.0 unx    12249 b- defN 24-Apr-21 19:39 modal/dict.py
--rw-r--r--  2.0 unx     6784 b- defN 24-Apr-21 19:40 modal/dict.pyi
--rw-r--r--  2.0 unx     2452 b- defN 24-Apr-21 19:39 modal/environments.py
--rw-r--r--  2.0 unx     1439 b- defN 24-Apr-21 19:40 modal/environments.pyi
--rw-r--r--  2.0 unx     5868 b- defN 24-Apr-21 19:39 modal/exception.py
--rw-r--r--  2.0 unx      316 b- defN 24-Apr-21 19:39 modal/experimental.py
--rw-r--r--  2.0 unx    68108 b- defN 24-Apr-21 19:39 modal/functions.py
--rw-r--r--  2.0 unx    24083 b- defN 24-Apr-21 19:40 modal/functions.pyi
--rw-r--r--  2.0 unx     8037 b- defN 24-Apr-21 19:39 modal/gpu.py
--rw-r--r--  2.0 unx    68296 b- defN 24-Apr-21 19:39 modal/image.py
--rw-r--r--  2.0 unx    18339 b- defN 24-Apr-21 19:40 modal/image.pyi
--rw-r--r--  2.0 unx    23550 b- defN 24-Apr-21 19:39 modal/mount.py
--rw-r--r--  2.0 unx     9588 b- defN 24-Apr-21 19:40 modal/mount.pyi
--rw-r--r--  2.0 unx    14428 b- defN 24-Apr-21 19:39 modal/network_file_system.py
--rw-r--r--  2.0 unx     6280 b- defN 24-Apr-21 19:40 modal/network_file_system.pyi
--rw-r--r--  2.0 unx     8329 b- defN 24-Apr-21 19:39 modal/object.py
--rw-r--r--  2.0 unx     7573 b- defN 24-Apr-21 19:40 modal/object.pyi
--rw-r--r--  2.0 unx    19975 b- defN 24-Apr-21 19:39 modal/partial_function.py
--rw-r--r--  2.0 unx     6172 b- defN 24-Apr-21 19:40 modal/partial_function.pyi
--rw-r--r--  2.0 unx     1307 b- defN 24-Apr-21 19:39 modal/proxy.py
--rw-r--r--  2.0 unx      428 b- defN 24-Apr-21 19:40 modal/proxy.pyi
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-21 19:39 modal/py.typed
--rw-r--r--  2.0 unx    17103 b- defN 24-Apr-21 19:39 modal/queue.py
--rw-r--r--  2.0 unx     7397 b- defN 24-Apr-21 19:40 modal/queue.pyi
--rw-r--r--  2.0 unx     3768 b- defN 24-Apr-21 19:39 modal/retries.py
--rw-r--r--  2.0 unx    19333 b- defN 24-Apr-21 19:39 modal/runner.py
--rw-r--r--  2.0 unx     5791 b- defN 24-Apr-21 19:40 modal/runner.pyi
--rw-r--r--  2.0 unx      461 b- defN 24-Apr-21 19:39 modal/running_app.py
--rw-r--r--  2.0 unx    15035 b- defN 24-Apr-21 19:39 modal/sandbox.py
--rw-r--r--  2.0 unx     6514 b- defN 24-Apr-21 19:40 modal/sandbox.pyi
--rw-r--r--  2.0 unx     2721 b- defN 24-Apr-21 19:39 modal/schedule.py
--rw-r--r--  2.0 unx      662 b- defN 24-Apr-21 19:39 modal/scheduler_placement.py
--rw-r--r--  2.0 unx     8913 b- defN 24-Apr-21 19:39 modal/secret.py
--rw-r--r--  2.0 unx     2225 b- defN 24-Apr-21 19:40 modal/secret.pyi
--rw-r--r--  2.0 unx     4799 b- defN 24-Apr-21 19:39 modal/serving.py
--rw-r--r--  2.0 unx     2977 b- defN 24-Apr-21 19:40 modal/serving.pyi
--rw-r--r--  2.0 unx      888 b- defN 24-Apr-21 19:39 modal/shared_volume.py
--rw-r--r--  2.0 unx      405 b- defN 24-Apr-21 19:40 modal/shared_volume.pyi
--rw-r--r--  2.0 unx     6742 b- defN 24-Apr-21 19:39 modal/token_flow.py
--rw-r--r--  2.0 unx     1890 b- defN 24-Apr-21 19:40 modal/token_flow.pyi
--rw-r--r--  2.0 unx    29282 b- defN 24-Apr-21 19:39 modal/volume.py
--rw-r--r--  2.0 unx     9748 b- defN 24-Apr-21 19:40 modal/volume.pyi
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal/_utils/__init__.py
--rw-r--r--  2.0 unx      465 b- defN 24-Apr-21 19:39 modal/_utils/app_utils.py
--rw-r--r--  2.0 unx    16049 b- defN 24-Apr-21 19:39 modal/_utils/async_utils.py
--rw-r--r--  2.0 unx    15054 b- defN 24-Apr-21 19:39 modal/_utils/blob_utils.py
--rw-r--r--  2.0 unx    15339 b- defN 24-Apr-21 19:39 modal/_utils/function_utils.py
--rw-r--r--  2.0 unx     7927 b- defN 24-Apr-21 19:39 modal/_utils/grpc_testing.py
--rw-r--r--  2.0 unx     6422 b- defN 24-Apr-21 19:39 modal/_utils/grpc_utils.py
--rw-r--r--  2.0 unx     1790 b- defN 24-Apr-21 19:39 modal/_utils/hash_utils.py
--rw-r--r--  2.0 unx     1426 b- defN 24-Apr-21 19:39 modal/_utils/http_utils.py
--rw-r--r--  2.0 unx     1311 b- defN 24-Apr-21 19:39 modal/_utils/logger.py
--rw-r--r--  2.0 unx     2341 b- defN 24-Apr-21 19:39 modal/_utils/mount_utils.py
--rw-r--r--  2.0 unx     1640 b- defN 24-Apr-21 19:39 modal/_utils/package_utils.py
--rw-r--r--  2.0 unx     3857 b- defN 24-Apr-21 19:39 modal/_utils/rand_pb_testing.py
--rw-r--r--  2.0 unx     3633 b- defN 24-Apr-21 19:39 modal/_utils/shell_utils.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal/_vendor/__init__.py
--rw-r--r--  2.0 unx    22144 b- defN 24-Apr-21 19:39 modal/_vendor/a2wsgi_wsgi.py
--rw-r--r--  2.0 unx    55225 b- defN 24-Apr-21 19:39 modal/_vendor/cloudpickle.py
--rw-r--r--  2.0 unx     9722 b- defN 24-Apr-21 19:39 modal/_vendor/tblib.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal/cli/__init__.py
--rw-r--r--  2.0 unx     2234 b- defN 24-Apr-21 19:39 modal/cli/_download.py
--rw-r--r--  2.0 unx     3041 b- defN 24-Apr-21 19:39 modal/cli/app.py
--rw-r--r--  2.0 unx     1294 b- defN 24-Apr-21 19:39 modal/cli/config.py
--rw-r--r--  2.0 unx     1748 b- defN 24-Apr-21 19:39 modal/cli/container.py
--rw-r--r--  2.0 unx     3538 b- defN 24-Apr-21 19:39 modal/cli/entry_point.py
--rw-r--r--  2.0 unx     3414 b- defN 24-Apr-21 19:39 modal/cli/environment.py
--rw-r--r--  2.0 unx    10357 b- defN 24-Apr-21 19:39 modal/cli/import_refs.py
--rw-r--r--  2.0 unx     2135 b- defN 24-Apr-21 19:39 modal/cli/launch.py
--rw-r--r--  2.0 unx     8255 b- defN 24-Apr-21 19:39 modal/cli/network_file_system.py
--rw-r--r--  2.0 unx     3109 b- defN 24-Apr-21 19:39 modal/cli/profile.py
--rw-r--r--  2.0 unx    13757 b- defN 24-Apr-21 19:39 modal/cli/run.py
--rw-r--r--  2.0 unx     4180 b- defN 24-Apr-21 19:39 modal/cli/secret.py
--rw-r--r--  2.0 unx     1875 b- defN 24-Apr-21 19:39 modal/cli/token.py
--rw-r--r--  2.0 unx     1330 b- defN 24-Apr-21 19:39 modal/cli/utils.py
--rw-r--r--  2.0 unx    10774 b- defN 24-Apr-21 19:39 modal/cli/volume.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal/cli/programs/__init__.py
--rw-r--r--  2.0 unx     2137 b- defN 24-Apr-21 19:39 modal/cli/programs/run_jupyter.py
--rw-r--r--  2.0 unx     1892 b- defN 24-Apr-21 19:39 modal/cli/programs/vscode.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal/extensions/__init__.py
--rw-r--r--  2.0 unx      982 b- defN 24-Apr-21 19:39 modal/extensions/ipython.py
--rw-r--r--  2.0 unx      400 b- defN 24-Apr-21 19:39 modal/requirements/2023.12.312.txt
--rw-r--r--  2.0 unx      502 b- defN 24-Apr-21 19:39 modal/requirements/2023.12.txt
--rw-r--r--  2.0 unx      520 b- defN 24-Apr-21 19:39 modal/requirements/2024.04.txt
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_docs/__init__.py
--rw-r--r--  2.0 unx     3801 b- defN 24-Apr-21 19:39 modal_docs/gen_cli_docs.py
--rw-r--r--  2.0 unx     6555 b- defN 24-Apr-21 19:39 modal_docs/gen_reference_docs.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_docs/mdmd/__init__.py
--rw-r--r--  2.0 unx     6268 b- defN 24-Apr-21 19:39 modal_docs/mdmd/mdmd.py
--rw-r--r--  2.0 unx     3243 b- defN 24-Apr-21 19:39 modal_docs/mdmd/signatures.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_global_objects/__init__.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_global_objects/images/__init__.py
--rw-r--r--  2.0 unx      324 b- defN 24-Apr-21 19:39 modal_global_objects/images/conda.py
--rw-r--r--  2.0 unx      330 b- defN 24-Apr-21 19:39 modal_global_objects/images/debian_slim.py
--rw-r--r--  2.0 unx      329 b- defN 24-Apr-21 19:39 modal_global_objects/images/micromamba.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_global_objects/mounts/__init__.py
--rw-r--r--  2.0 unx      767 b- defN 24-Apr-21 19:39 modal_global_objects/mounts/modal_client_package.py
--rw-r--r--  2.0 unx     1870 b- defN 24-Apr-21 19:39 modal_global_objects/mounts/python_standalone.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 modal_proto/__init__.py
--rw-r--r--  2.0 unx    56959 b- defN 24-Apr-21 19:39 modal_proto/api.proto
--rw-r--r--  2.0 unx    86687 b- defN 24-Apr-21 19:40 modal_proto/api_grpc.py
--rw-r--r--  2.0 unx   221008 b- defN 24-Apr-21 19:40 modal_proto/api_pb2.py
--rw-r--r--  2.0 unx   187383 b- defN 24-Apr-21 19:40 modal_proto/api_pb2_grpc.py
--rw-r--r--  2.0 unx      488 b- defN 24-Apr-21 19:39 modal_proto/options.proto
--rw-r--r--  2.0 unx      125 b- defN 24-Apr-21 19:40 modal_proto/options_grpc.py
--rw-r--r--  2.0 unx     1827 b- defN 24-Apr-21 19:40 modal_proto/options_pb2.py
--rw-r--r--  2.0 unx      159 b- defN 24-Apr-21 19:40 modal_proto/options_pb2_grpc.py
--rw-r--r--  2.0 unx      470 b- defN 24-Apr-21 19:39 modal_version/__init__.py
--rw-r--r--  2.0 unx      105 b- defN 24-Apr-21 19:39 modal_version/__main__.py
--rw-r--r--  2.0 unx      149 b- defN 24-Apr-21 19:40 modal_version/_version_generated.py
--rw-r--r--  2.0 unx       28 b- defN 24-Apr-21 19:39 test/__init__.py
--rw-r--r--  2.0 unx      199 b- defN 24-Apr-21 19:39 test/aio_test.py
--rw-r--r--  2.0 unx     7247 b- defN 24-Apr-21 19:39 test/async_utils_test.py
--rw-r--r--  2.0 unx     2539 b- defN 24-Apr-21 19:39 test/blob_test.py
--rw-r--r--  2.0 unx     4635 b- defN 24-Apr-21 19:39 test/cli_imports_test.py
--rw-r--r--  2.0 unx    27245 b- defN 24-Apr-21 19:39 test/cli_test.py
--rw-r--r--  2.0 unx     6426 b- defN 24-Apr-21 19:39 test/client_test.py
--rw-r--r--  2.0 unx      530 b- defN 24-Apr-21 19:39 test/cloud_bucket_mount_test.py
--rw-r--r--  2.0 unx    16131 b- defN 24-Apr-21 19:39 test/cls_test.py
--rw-r--r--  2.0 unx     5121 b- defN 24-Apr-21 19:39 test/config_test.py
--rw-r--r--  2.0 unx    61761 b- defN 24-Apr-21 19:39 test/conftest.py
--rw-r--r--  2.0 unx     1506 b- defN 24-Apr-21 19:39 test/container_app_test.py
--rw-r--r--  2.0 unx    50568 b- defN 24-Apr-21 19:39 test/container_test.py
--rw-r--r--  2.0 unx      398 b- defN 24-Apr-21 19:39 test/cpu_test.py
--rw-r--r--  2.0 unx     1850 b- defN 24-Apr-21 19:39 test/decorator_test.py
--rw-r--r--  2.0 unx     1055 b- defN 24-Apr-21 19:39 test/deprecation_test.py
--rw-r--r--  2.0 unx     1436 b- defN 24-Apr-21 19:39 test/dict_test.py
--rw-r--r--  2.0 unx     2152 b- defN 24-Apr-21 19:39 test/e2e_test.py
--rw-r--r--  2.0 unx      165 b- defN 24-Apr-21 19:39 test/error_test.py
--rw-r--r--  2.0 unx      966 b- defN 24-Apr-21 19:39 test/function_serialization_test.py
--rw-r--r--  2.0 unx    23757 b- defN 24-Apr-21 19:39 test/function_test.py
--rw-r--r--  2.0 unx     1892 b- defN 24-Apr-21 19:39 test/function_utils_test.py
--rw-r--r--  2.0 unx     4571 b- defN 24-Apr-21 19:39 test/gpu_test.py
--rw-r--r--  2.0 unx     2959 b- defN 24-Apr-21 19:39 test/grpc_utils_test.py
--rw-r--r--  2.0 unx     1709 b- defN 24-Apr-21 19:39 test/helpers.py
--rw-r--r--  2.0 unx    32798 b- defN 24-Apr-21 19:39 test/image_test.py
--rw-r--r--  2.0 unx     2722 b- defN 24-Apr-21 19:39 test/live_reload_test.py
--rw-r--r--  2.0 unx     2160 b- defN 24-Apr-21 19:39 test/lookup_test.py
--rw-r--r--  2.0 unx     5118 b- defN 24-Apr-21 19:39 test/mdmd_test.py
--rw-r--r--  2.0 unx     5475 b- defN 24-Apr-21 19:39 test/mount_test.py
--rw-r--r--  2.0 unx    12461 b- defN 24-Apr-21 19:39 test/mounted_files_test.py
--rw-r--r--  2.0 unx     6265 b- defN 24-Apr-21 19:39 test/network_file_system_test.py
--rw-r--r--  2.0 unx     2157 b- defN 24-Apr-21 19:39 test/notebook_test.py
--rw-r--r--  2.0 unx     1291 b- defN 24-Apr-21 19:39 test/object_test.py
--rw-r--r--  2.0 unx      795 b- defN 24-Apr-21 19:39 test/package_utils_test.py
--rw-r--r--  2.0 unx     3667 b- defN 24-Apr-21 19:39 test/queue_test.py
--rw-r--r--  2.0 unx     1782 b- defN 24-Apr-21 19:39 test/resolver_test.py
--rw-r--r--  2.0 unx     1806 b- defN 24-Apr-21 19:39 test/retries_test.py
--rw-r--r--  2.0 unx     2909 b- defN 24-Apr-21 19:39 test/runner_test.py
--rw-r--r--  2.0 unx     5254 b- defN 24-Apr-21 19:39 test/sandbox_test.py
--rw-r--r--  2.0 unx      354 b- defN 24-Apr-21 19:39 test/schedule_test.py
--rw-r--r--  2.0 unx      737 b- defN 24-Apr-21 19:39 test/scheduler_placement_test.py
--rw-r--r--  2.0 unx     2506 b- defN 24-Apr-21 19:39 test/secret_test.py
--rw-r--r--  2.0 unx     1867 b- defN 24-Apr-21 19:39 test/serialization_test.py
--rw-r--r--  2.0 unx      555 b- defN 24-Apr-21 19:39 test/stub_composition_test.py
--rw-r--r--  2.0 unx    10906 b- defN 24-Apr-21 19:39 test/stub_test.py
--rw-r--r--  2.0 unx     7320 b- defN 24-Apr-21 19:39 test/test_asgi_wrapper.py
--rw-r--r--  2.0 unx      614 b- defN 24-Apr-21 19:39 test/token_flow_test.py
--rw-r--r--  2.0 unx     4747 b- defN 24-Apr-21 19:39 test/traceback_test.py
--rw-r--r--  2.0 unx      768 b- defN 24-Apr-21 19:39 test/tunnel_test.py
--rw-r--r--  2.0 unx     2679 b- defN 24-Apr-21 19:39 test/utils_test.py
--rw-r--r--  2.0 unx      403 b- defN 24-Apr-21 19:39 test/version_test.py
--rw-r--r--  2.0 unx    14309 b- defN 24-Apr-21 19:39 test/volume_test.py
--rw-r--r--  2.0 unx     1193 b- defN 24-Apr-21 19:39 test/watcher_test.py
--rw-r--r--  2.0 unx     4171 b- defN 24-Apr-21 19:39 test/webhook_test.py
--rw-r--r--  2.0 unx    10173 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/LICENSE
--rw-r--r--  2.0 unx     2302 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       69 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    16059 b- defN 24-Apr-21 19:40 modal-0.62.98.dist-info/RECORD
-203 files, 1946655 bytes uncompressed, 429331 bytes compressed:  77.9%
+Zip file size: 456304 bytes, number of entries: 207
+-rw-r--r--  2.0 unx     2095 b- defN 24-Apr-22 08:13 modal/__init__.py
+-rw-r--r--  2.0 unx     1141 b- defN 24-Apr-22 08:13 modal/__main__.py
+-rw-r--r--  2.0 unx    15484 b- defN 24-Apr-22 08:13 modal/_asgi.py
+-rw-r--r--  2.0 unx    28457 b- defN 24-Apr-22 08:13 modal/_container_entrypoint.py
+-rw-r--r--  2.0 unx     4349 b- defN 24-Apr-22 08:13 modal/_container_exec.py
+-rw-r--r--  2.0 unx    28110 b- defN 24-Apr-22 08:13 modal/_container_io_manager.py
+-rw-r--r--  2.0 unx    12406 b- defN 24-Apr-22 08:13 modal/_container_io_manager.pyi
+-rw-r--r--  2.0 unx      450 b- defN 24-Apr-22 08:13 modal/_ipython.py
+-rw-r--r--  2.0 unx      929 b- defN 24-Apr-22 08:13 modal/_location.py
+-rw-r--r--  2.0 unx    20565 b- defN 24-Apr-22 08:13 modal/_output.py
+-rw-r--r--  2.0 unx     1906 b- defN 24-Apr-22 08:13 modal/_proxy_tunnel.py
+-rw-r--r--  2.0 unx     1336 b- defN 24-Apr-22 08:13 modal/_pty.py
+-rw-r--r--  2.0 unx     7077 b- defN 24-Apr-22 08:13 modal/_resolver.py
+-rw-r--r--  2.0 unx     1142 b- defN 24-Apr-22 08:13 modal/_resources.py
+-rw-r--r--  2.0 unx     1658 b- defN 24-Apr-22 08:13 modal/_sandbox_shell.py
+-rw-r--r--  2.0 unx    12133 b- defN 24-Apr-22 08:13 modal/_serialization.py
+-rw-r--r--  2.0 unx    10029 b- defN 24-Apr-22 08:13 modal/_traceback.py
+-rw-r--r--  2.0 unx     5171 b- defN 24-Apr-22 08:13 modal/_tunnel.py
+-rw-r--r--  2.0 unx     1337 b- defN 24-Apr-22 08:13 modal/_tunnel.pyi
+-rw-r--r--  2.0 unx     3605 b- defN 24-Apr-22 08:13 modal/_watcher.py
+-rw-r--r--  2.0 unx    35951 b- defN 24-Apr-22 08:13 modal/app.py
+-rw-r--r--  2.0 unx    19109 b- defN 24-Apr-22 08:13 modal/app.pyi
+-rw-r--r--  2.0 unx      748 b- defN 24-Apr-22 08:13 modal/app_utils.py
+-rw-r--r--  2.0 unx      613 b- defN 24-Apr-22 08:13 modal/app_utils.pyi
+-rw-r--r--  2.0 unx     2524 b- defN 24-Apr-22 08:13 modal/call_graph.py
+-rw-r--r--  2.0 unx    10828 b- defN 24-Apr-22 08:13 modal/client.py
+-rw-r--r--  2.0 unx     4006 b- defN 24-Apr-22 08:13 modal/client.pyi
+-rw-r--r--  2.0 unx     5700 b- defN 24-Apr-22 08:13 modal/cloud_bucket_mount.py
+-rw-r--r--  2.0 unx     1217 b- defN 24-Apr-22 08:13 modal/cloud_bucket_mount.pyi
+-rw-r--r--  2.0 unx    12734 b- defN 24-Apr-22 08:13 modal/cls.py
+-rw-r--r--  2.0 unx     6521 b- defN 24-Apr-22 08:13 modal/cls.pyi
+-rw-r--r--  2.0 unx     9980 b- defN 24-Apr-22 08:13 modal/config.py
+-rw-r--r--  2.0 unx    12249 b- defN 24-Apr-22 08:13 modal/dict.py
+-rw-r--r--  2.0 unx     6784 b- defN 24-Apr-22 08:13 modal/dict.pyi
+-rw-r--r--  2.0 unx     2452 b- defN 24-Apr-22 08:13 modal/environments.py
+-rw-r--r--  2.0 unx     1439 b- defN 24-Apr-22 08:13 modal/environments.pyi
+-rw-r--r--  2.0 unx     5868 b- defN 24-Apr-22 08:13 modal/exception.py
+-rw-r--r--  2.0 unx     2324 b- defN 24-Apr-22 08:13 modal/execution_context.py
+-rw-r--r--  2.0 unx      653 b- defN 24-Apr-22 08:13 modal/execution_context.pyi
+-rw-r--r--  2.0 unx      316 b- defN 24-Apr-22 08:13 modal/experimental.py
+-rw-r--r--  2.0 unx    47836 b- defN 24-Apr-22 08:13 modal/functions.py
+-rw-r--r--  2.0 unx    19891 b- defN 24-Apr-22 08:13 modal/functions.pyi
+-rw-r--r--  2.0 unx     8037 b- defN 24-Apr-22 08:13 modal/gpu.py
+-rw-r--r--  2.0 unx    68296 b- defN 24-Apr-22 08:13 modal/image.py
+-rw-r--r--  2.0 unx    18339 b- defN 24-Apr-22 08:13 modal/image.pyi
+-rw-r--r--  2.0 unx    23564 b- defN 24-Apr-22 08:13 modal/mount.py
+-rw-r--r--  2.0 unx     9588 b- defN 24-Apr-22 08:13 modal/mount.pyi
+-rw-r--r--  2.0 unx    14428 b- defN 24-Apr-22 08:13 modal/network_file_system.py
+-rw-r--r--  2.0 unx     6280 b- defN 24-Apr-22 08:13 modal/network_file_system.pyi
+-rw-r--r--  2.0 unx     8329 b- defN 24-Apr-22 08:13 modal/object.py
+-rw-r--r--  2.0 unx     7573 b- defN 24-Apr-22 08:13 modal/object.pyi
+-rw-r--r--  2.0 unx    15151 b- defN 24-Apr-22 08:13 modal/parallel_map.py
+-rw-r--r--  2.0 unx     2400 b- defN 24-Apr-22 08:13 modal/parallel_map.pyi
+-rw-r--r--  2.0 unx    19975 b- defN 24-Apr-22 08:13 modal/partial_function.py
+-rw-r--r--  2.0 unx     6172 b- defN 24-Apr-22 08:13 modal/partial_function.pyi
+-rw-r--r--  2.0 unx     1307 b- defN 24-Apr-22 08:13 modal/proxy.py
+-rw-r--r--  2.0 unx      428 b- defN 24-Apr-22 08:13 modal/proxy.pyi
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 08:13 modal/py.typed
+-rw-r--r--  2.0 unx    17103 b- defN 24-Apr-22 08:13 modal/queue.py
+-rw-r--r--  2.0 unx     7397 b- defN 24-Apr-22 08:13 modal/queue.pyi
+-rw-r--r--  2.0 unx     3768 b- defN 24-Apr-22 08:13 modal/retries.py
+-rw-r--r--  2.0 unx    19436 b- defN 24-Apr-22 08:13 modal/runner.py
+-rw-r--r--  2.0 unx     5791 b- defN 24-Apr-22 08:13 modal/runner.pyi
+-rw-r--r--  2.0 unx      461 b- defN 24-Apr-22 08:13 modal/running_app.py
+-rw-r--r--  2.0 unx    15035 b- defN 24-Apr-22 08:13 modal/sandbox.py
+-rw-r--r--  2.0 unx     6514 b- defN 24-Apr-22 08:13 modal/sandbox.pyi
+-rw-r--r--  2.0 unx     2721 b- defN 24-Apr-22 08:13 modal/schedule.py
+-rw-r--r--  2.0 unx      662 b- defN 24-Apr-22 08:13 modal/scheduler_placement.py
+-rw-r--r--  2.0 unx     8909 b- defN 24-Apr-22 08:13 modal/secret.py
+-rw-r--r--  2.0 unx     2225 b- defN 24-Apr-22 08:13 modal/secret.pyi
+-rw-r--r--  2.0 unx     4799 b- defN 24-Apr-22 08:13 modal/serving.py
+-rw-r--r--  2.0 unx     2977 b- defN 24-Apr-22 08:13 modal/serving.pyi
+-rw-r--r--  2.0 unx      888 b- defN 24-Apr-22 08:13 modal/shared_volume.py
+-rw-r--r--  2.0 unx      405 b- defN 24-Apr-22 08:13 modal/shared_volume.pyi
+-rw-r--r--  2.0 unx     6742 b- defN 24-Apr-22 08:13 modal/token_flow.py
+-rw-r--r--  2.0 unx     1890 b- defN 24-Apr-22 08:13 modal/token_flow.pyi
+-rw-r--r--  2.0 unx    29282 b- defN 24-Apr-22 08:13 modal/volume.py
+-rw-r--r--  2.0 unx     9748 b- defN 24-Apr-22 08:13 modal/volume.pyi
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal/_utils/__init__.py
+-rw-r--r--  2.0 unx      465 b- defN 24-Apr-22 08:13 modal/_utils/app_utils.py
+-rw-r--r--  2.0 unx    16049 b- defN 24-Apr-22 08:13 modal/_utils/async_utils.py
+-rw-r--r--  2.0 unx    15054 b- defN 24-Apr-22 08:13 modal/_utils/blob_utils.py
+-rw-r--r--  2.0 unx    19390 b- defN 24-Apr-22 08:13 modal/_utils/function_utils.py
+-rw-r--r--  2.0 unx     7927 b- defN 24-Apr-22 08:13 modal/_utils/grpc_testing.py
+-rw-r--r--  2.0 unx     6422 b- defN 24-Apr-22 08:13 modal/_utils/grpc_utils.py
+-rw-r--r--  2.0 unx     1790 b- defN 24-Apr-22 08:13 modal/_utils/hash_utils.py
+-rw-r--r--  2.0 unx     1426 b- defN 24-Apr-22 08:13 modal/_utils/http_utils.py
+-rw-r--r--  2.0 unx     1311 b- defN 24-Apr-22 08:13 modal/_utils/logger.py
+-rw-r--r--  2.0 unx     2341 b- defN 24-Apr-22 08:13 modal/_utils/mount_utils.py
+-rw-r--r--  2.0 unx     1640 b- defN 24-Apr-22 08:13 modal/_utils/package_utils.py
+-rw-r--r--  2.0 unx     3857 b- defN 24-Apr-22 08:13 modal/_utils/rand_pb_testing.py
+-rw-r--r--  2.0 unx     3633 b- defN 24-Apr-22 08:13 modal/_utils/shell_utils.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal/_vendor/__init__.py
+-rw-r--r--  2.0 unx    22144 b- defN 24-Apr-22 08:13 modal/_vendor/a2wsgi_wsgi.py
+-rw-r--r--  2.0 unx    55225 b- defN 24-Apr-22 08:13 modal/_vendor/cloudpickle.py
+-rw-r--r--  2.0 unx     9722 b- defN 24-Apr-22 08:13 modal/_vendor/tblib.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal/cli/__init__.py
+-rw-r--r--  2.0 unx     2234 b- defN 24-Apr-22 08:13 modal/cli/_download.py
+-rw-r--r--  2.0 unx     3041 b- defN 24-Apr-22 08:13 modal/cli/app.py
+-rw-r--r--  2.0 unx     1294 b- defN 24-Apr-22 08:13 modal/cli/config.py
+-rw-r--r--  2.0 unx     1748 b- defN 24-Apr-22 08:13 modal/cli/container.py
+-rw-r--r--  2.0 unx     3538 b- defN 24-Apr-22 08:13 modal/cli/entry_point.py
+-rw-r--r--  2.0 unx     3414 b- defN 24-Apr-22 08:13 modal/cli/environment.py
+-rw-r--r--  2.0 unx    10357 b- defN 24-Apr-22 08:13 modal/cli/import_refs.py
+-rw-r--r--  2.0 unx     2135 b- defN 24-Apr-22 08:13 modal/cli/launch.py
+-rw-r--r--  2.0 unx     8255 b- defN 24-Apr-22 08:13 modal/cli/network_file_system.py
+-rw-r--r--  2.0 unx     3109 b- defN 24-Apr-22 08:13 modal/cli/profile.py
+-rw-r--r--  2.0 unx    13757 b- defN 24-Apr-22 08:13 modal/cli/run.py
+-rw-r--r--  2.0 unx     4180 b- defN 24-Apr-22 08:13 modal/cli/secret.py
+-rw-r--r--  2.0 unx     1875 b- defN 24-Apr-22 08:13 modal/cli/token.py
+-rw-r--r--  2.0 unx     1330 b- defN 24-Apr-22 08:13 modal/cli/utils.py
+-rw-r--r--  2.0 unx    10774 b- defN 24-Apr-22 08:13 modal/cli/volume.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal/cli/programs/__init__.py
+-rw-r--r--  2.0 unx     2137 b- defN 24-Apr-22 08:13 modal/cli/programs/run_jupyter.py
+-rw-r--r--  2.0 unx     1892 b- defN 24-Apr-22 08:13 modal/cli/programs/vscode.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal/extensions/__init__.py
+-rw-r--r--  2.0 unx      982 b- defN 24-Apr-22 08:13 modal/extensions/ipython.py
+-rw-r--r--  2.0 unx      400 b- defN 24-Apr-22 08:13 modal/requirements/2023.12.312.txt
+-rw-r--r--  2.0 unx      502 b- defN 24-Apr-22 08:13 modal/requirements/2023.12.txt
+-rw-r--r--  2.0 unx      520 b- defN 24-Apr-22 08:13 modal/requirements/2024.04.txt
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_docs/__init__.py
+-rw-r--r--  2.0 unx     3801 b- defN 24-Apr-22 08:13 modal_docs/gen_cli_docs.py
+-rw-r--r--  2.0 unx     6555 b- defN 24-Apr-22 08:13 modal_docs/gen_reference_docs.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_docs/mdmd/__init__.py
+-rw-r--r--  2.0 unx     6268 b- defN 24-Apr-22 08:13 modal_docs/mdmd/mdmd.py
+-rw-r--r--  2.0 unx     3243 b- defN 24-Apr-22 08:13 modal_docs/mdmd/signatures.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_global_objects/__init__.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_global_objects/images/__init__.py
+-rw-r--r--  2.0 unx      324 b- defN 24-Apr-22 08:13 modal_global_objects/images/conda.py
+-rw-r--r--  2.0 unx      330 b- defN 24-Apr-22 08:13 modal_global_objects/images/debian_slim.py
+-rw-r--r--  2.0 unx      329 b- defN 24-Apr-22 08:13 modal_global_objects/images/micromamba.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_global_objects/mounts/__init__.py
+-rw-r--r--  2.0 unx      767 b- defN 24-Apr-22 08:13 modal_global_objects/mounts/modal_client_package.py
+-rw-r--r--  2.0 unx     1870 b- defN 24-Apr-22 08:13 modal_global_objects/mounts/python_standalone.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 modal_proto/__init__.py
+-rw-r--r--  2.0 unx    56959 b- defN 24-Apr-22 08:13 modal_proto/api.proto
+-rw-r--r--  2.0 unx    86687 b- defN 24-Apr-22 08:13 modal_proto/api_grpc.py
+-rw-r--r--  2.0 unx   221008 b- defN 24-Apr-22 08:13 modal_proto/api_pb2.py
+-rw-r--r--  2.0 unx   187383 b- defN 24-Apr-22 08:13 modal_proto/api_pb2_grpc.py
+-rw-r--r--  2.0 unx      488 b- defN 24-Apr-22 08:13 modal_proto/options.proto
+-rw-r--r--  2.0 unx      125 b- defN 24-Apr-22 08:13 modal_proto/options_grpc.py
+-rw-r--r--  2.0 unx     1827 b- defN 24-Apr-22 08:13 modal_proto/options_pb2.py
+-rw-r--r--  2.0 unx      159 b- defN 24-Apr-22 08:13 modal_proto/options_pb2_grpc.py
+-rw-r--r--  2.0 unx      470 b- defN 24-Apr-22 08:13 modal_version/__init__.py
+-rw-r--r--  2.0 unx      105 b- defN 24-Apr-22 08:13 modal_version/__main__.py
+-rw-r--r--  2.0 unx      149 b- defN 24-Apr-22 08:13 modal_version/_version_generated.py
+-rw-r--r--  2.0 unx       28 b- defN 24-Apr-22 08:13 test/__init__.py
+-rw-r--r--  2.0 unx      199 b- defN 24-Apr-22 08:13 test/aio_test.py
+-rw-r--r--  2.0 unx     7247 b- defN 24-Apr-22 08:13 test/async_utils_test.py
+-rw-r--r--  2.0 unx     2539 b- defN 24-Apr-22 08:13 test/blob_test.py
+-rw-r--r--  2.0 unx     4635 b- defN 24-Apr-22 08:13 test/cli_imports_test.py
+-rw-r--r--  2.0 unx    27245 b- defN 24-Apr-22 08:13 test/cli_test.py
+-rw-r--r--  2.0 unx     6426 b- defN 24-Apr-22 08:13 test/client_test.py
+-rw-r--r--  2.0 unx      530 b- defN 24-Apr-22 08:13 test/cloud_bucket_mount_test.py
+-rw-r--r--  2.0 unx    16131 b- defN 24-Apr-22 08:13 test/cls_test.py
+-rw-r--r--  2.0 unx     5121 b- defN 24-Apr-22 08:13 test/config_test.py
+-rw-r--r--  2.0 unx    61761 b- defN 24-Apr-22 08:13 test/conftest.py
+-rw-r--r--  2.0 unx     1506 b- defN 24-Apr-22 08:13 test/container_app_test.py
+-rw-r--r--  2.0 unx    50568 b- defN 24-Apr-22 08:13 test/container_test.py
+-rw-r--r--  2.0 unx      398 b- defN 24-Apr-22 08:13 test/cpu_test.py
+-rw-r--r--  2.0 unx     1850 b- defN 24-Apr-22 08:13 test/decorator_test.py
+-rw-r--r--  2.0 unx     1055 b- defN 24-Apr-22 08:13 test/deprecation_test.py
+-rw-r--r--  2.0 unx     1436 b- defN 24-Apr-22 08:13 test/dict_test.py
+-rw-r--r--  2.0 unx     2152 b- defN 24-Apr-22 08:13 test/e2e_test.py
+-rw-r--r--  2.0 unx      165 b- defN 24-Apr-22 08:13 test/error_test.py
+-rw-r--r--  2.0 unx      966 b- defN 24-Apr-22 08:13 test/function_serialization_test.py
+-rw-r--r--  2.0 unx    23769 b- defN 24-Apr-22 08:13 test/function_test.py
+-rw-r--r--  2.0 unx     1892 b- defN 24-Apr-22 08:13 test/function_utils_test.py
+-rw-r--r--  2.0 unx     4571 b- defN 24-Apr-22 08:13 test/gpu_test.py
+-rw-r--r--  2.0 unx     2959 b- defN 24-Apr-22 08:13 test/grpc_utils_test.py
+-rw-r--r--  2.0 unx     1709 b- defN 24-Apr-22 08:13 test/helpers.py
+-rw-r--r--  2.0 unx    32798 b- defN 24-Apr-22 08:13 test/image_test.py
+-rw-r--r--  2.0 unx     2722 b- defN 24-Apr-22 08:13 test/live_reload_test.py
+-rw-r--r--  2.0 unx     2160 b- defN 24-Apr-22 08:13 test/lookup_test.py
+-rw-r--r--  2.0 unx     5118 b- defN 24-Apr-22 08:13 test/mdmd_test.py
+-rw-r--r--  2.0 unx     5475 b- defN 24-Apr-22 08:13 test/mount_test.py
+-rw-r--r--  2.0 unx    12461 b- defN 24-Apr-22 08:13 test/mounted_files_test.py
+-rw-r--r--  2.0 unx     6265 b- defN 24-Apr-22 08:13 test/network_file_system_test.py
+-rw-r--r--  2.0 unx     2157 b- defN 24-Apr-22 08:13 test/notebook_test.py
+-rw-r--r--  2.0 unx     1291 b- defN 24-Apr-22 08:13 test/object_test.py
+-rw-r--r--  2.0 unx      795 b- defN 24-Apr-22 08:13 test/package_utils_test.py
+-rw-r--r--  2.0 unx     3667 b- defN 24-Apr-22 08:13 test/queue_test.py
+-rw-r--r--  2.0 unx     1782 b- defN 24-Apr-22 08:13 test/resolver_test.py
+-rw-r--r--  2.0 unx     1806 b- defN 24-Apr-22 08:13 test/retries_test.py
+-rw-r--r--  2.0 unx     2909 b- defN 24-Apr-22 08:13 test/runner_test.py
+-rw-r--r--  2.0 unx     5254 b- defN 24-Apr-22 08:13 test/sandbox_test.py
+-rw-r--r--  2.0 unx      354 b- defN 24-Apr-22 08:13 test/schedule_test.py
+-rw-r--r--  2.0 unx      737 b- defN 24-Apr-22 08:13 test/scheduler_placement_test.py
+-rw-r--r--  2.0 unx     2506 b- defN 24-Apr-22 08:13 test/secret_test.py
+-rw-r--r--  2.0 unx     1867 b- defN 24-Apr-22 08:13 test/serialization_test.py
+-rw-r--r--  2.0 unx      555 b- defN 24-Apr-22 08:13 test/stub_composition_test.py
+-rw-r--r--  2.0 unx    10906 b- defN 24-Apr-22 08:13 test/stub_test.py
+-rw-r--r--  2.0 unx     7328 b- defN 24-Apr-22 08:13 test/test_asgi_wrapper.py
+-rw-r--r--  2.0 unx      614 b- defN 24-Apr-22 08:13 test/token_flow_test.py
+-rw-r--r--  2.0 unx     4747 b- defN 24-Apr-22 08:13 test/traceback_test.py
+-rw-r--r--  2.0 unx      768 b- defN 24-Apr-22 08:13 test/tunnel_test.py
+-rw-r--r--  2.0 unx     2679 b- defN 24-Apr-22 08:13 test/utils_test.py
+-rw-r--r--  2.0 unx      403 b- defN 24-Apr-22 08:13 test/version_test.py
+-rw-r--r--  2.0 unx    14309 b- defN 24-Apr-22 08:13 test/volume_test.py
+-rw-r--r--  2.0 unx     1193 b- defN 24-Apr-22 08:13 test/watcher_test.py
+-rw-r--r--  2.0 unx     4171 b- defN 24-Apr-22 08:13 test/webhook_test.py
+-rw-r--r--  2.0 unx    10173 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/LICENSE
+-rw-r--r--  2.0 unx     2302 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/WHEEL
+-rw-r--r--  2.0 unx       46 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       69 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    16383 b- defN 24-Apr-22 08:13 modal-0.62.99.dist-info/RECORD
+207 files, 1946488 bytes uncompressed, 431228 bytes compressed:  77.8%
```

## zipnote {}

```diff
@@ -105,14 +105,20 @@
 
 Filename: modal/environments.pyi
 Comment: 
 
 Filename: modal/exception.py
 Comment: 
 
+Filename: modal/execution_context.py
+Comment: 
+
+Filename: modal/execution_context.pyi
+Comment: 
+
 Filename: modal/experimental.py
 Comment: 
 
 Filename: modal/functions.py
 Comment: 
 
 Filename: modal/functions.pyi
@@ -141,14 +147,20 @@
 
 Filename: modal/object.py
 Comment: 
 
 Filename: modal/object.pyi
 Comment: 
 
+Filename: modal/parallel_map.py
+Comment: 
+
+Filename: modal/parallel_map.pyi
+Comment: 
+
 Filename: modal/partial_function.py
 Comment: 
 
 Filename: modal/partial_function.pyi
 Comment: 
 
 Filename: modal/proxy.py
@@ -585,26 +597,26 @@
 
 Filename: test/watcher_test.py
 Comment: 
 
 Filename: test/webhook_test.py
 Comment: 
 
-Filename: modal-0.62.98.dist-info/LICENSE
+Filename: modal-0.62.99.dist-info/LICENSE
 Comment: 
 
-Filename: modal-0.62.98.dist-info/METADATA
+Filename: modal-0.62.99.dist-info/METADATA
 Comment: 
 
-Filename: modal-0.62.98.dist-info/WHEEL
+Filename: modal-0.62.99.dist-info/WHEEL
 Comment: 
 
-Filename: modal-0.62.98.dist-info/entry_points.txt
+Filename: modal-0.62.99.dist-info/entry_points.txt
 Comment: 
 
-Filename: modal-0.62.98.dist-info/top_level.txt
+Filename: modal-0.62.99.dist-info/top_level.txt
 Comment: 
 
-Filename: modal-0.62.98.dist-info/RECORD
+Filename: modal-0.62.99.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## modal/__init__.py

```diff
@@ -5,24 +5,23 @@
     raise RuntimeError("This version of Modal requires at least Python 3.8")
 if sys.version_info[:2] >= (3, 13):
     raise RuntimeError("This version of Modal does not support Python 3.13+")
 
 from modal_version import __version__
 
 try:
-
-    from ._container_io_manager import interact, is_local
     from ._tunnel import Tunnel, forward
     from .app import App, Stub
     from .client import Client
     from .cloud_bucket_mount import CloudBucketMount
     from .cls import Cls
     from .dict import Dict
     from .exception import Error
-    from .functions import Function, current_function_call_id, current_input_id
+    from .execution_context import current_function_call_id, current_input_id, interact, is_local
+    from .functions import Function
     from .image import Image
     from .mount import Mount
     from .network_file_system import NetworkFileSystem
     from .partial_function import asgi_app, build, enter, exit, method, web_endpoint, web_server, wsgi_app
     from .proxy import Proxy
     from .queue import Queue
     from .retries import Retries
@@ -69,13 +68,13 @@
     "build",
     "current_function_call_id",
     "current_input_id",
     "enter",
     "exit",
     "forward",
     "is_local",
+    "interact",
     "method",
     "web_endpoint",
     "web_server",
     "wsgi_app",
-    "interact",
 ]
```

## modal/_asgi.py

```diff
@@ -4,16 +4,16 @@
 
 import aiohttp
 
 from ._utils.async_utils import TaskContext
 from ._utils.blob_utils import MAX_OBJECT_SIZE_BYTES
 from .config import logger
 from .exception import ExecutionError, InvalidError
+from .execution_context import current_function_call_id
 from .experimental import stop_fetching_inputs
-from .functions import current_function_call_id
 
 FIRST_MESSAGE_TIMEOUT_SECONDS = 5.0
 
 
 def asgi_app_wrapper(asgi_app, function_io_manager) -> Callable[..., AsyncGenerator]:
     async def fn(scope):
         function_call_id = current_function_call_id()
```

## modal/_container_entrypoint.py

```diff
@@ -19,25 +19,31 @@
     asgi_app_wrapper,
     get_ip_address,
     wait_for_web_server,
     web_server_proxy,
     webhook_asgi_app,
     wsgi_app_wrapper,
 )
-from ._container_io_manager import ContainerIOManager, UserException, _ContainerIOManager, interact
+from ._container_io_manager import ContainerIOManager, UserException, _ContainerIOManager
 from ._proxy_tunnel import proxy_tunnel
 from ._serialization import deserialize
 from ._utils.async_utils import TaskContext, synchronizer
-from ._utils.function_utils import LocalFunctionError, is_async as get_is_async, is_global_function, method_has_params
+from ._utils.function_utils import (
+    LocalFunctionError,
+    is_async as get_is_async,
+    is_global_function,
+    method_has_params,
+)
 from .app import App, _App
 from .client import Client, _Client
 from .cls import Cls
 from .config import logger
 from .exception import ExecutionError, InputCancellation, InvalidError
-from .functions import Function, _Function, _set_current_context_ids
+from .execution_context import _set_current_context_ids, interact
+from .functions import Function, _Function
 from .partial_function import _find_callables_for_obj, _PartialFunctionFlags
 from .running_app import RunningApp
 
 if TYPE_CHECKING:
     from types import ModuleType
 
 
@@ -255,23 +261,23 @@
                 await container_io_manager.push_output.aio(input_id, started_at, value, imp_fun.data_format)
         reset_context()
 
     if imp_fun.input_concurrency > 1:
         # all run_input coroutines will have completed by the time we leave the execution context
         # but the wrapping *tasks* may not yet have been resolved, so we add a 0.01s
         # for them to resolve gracefully:
-        async with TaskContext(0.01) as execution_context:
+        async with TaskContext(0.01) as task_context:
             async for input_id, function_call_id, args, kwargs in container_io_manager.run_inputs_outputs.aio(
                 imp_fun.input_concurrency
             ):
                 # Note that run_inputs_outputs will not return until the concurrency semaphore has
                 # released all its slots so that they can be acquired by the run_inputs_outputs finalizer
-                # This prevents leaving the execution_context before outputs have been created
+                # This prevents leaving the task_context before outputs have been created
                 # TODO: refactor to make this a bit more easy to follow?
-                execution_context.create_task(run_input(input_id, function_call_id, args, kwargs))
+                task_context.create_task(run_input(input_id, function_call_id, args, kwargs))
     else:
         async for input_id, function_call_id, args, kwargs in container_io_manager.run_inputs_outputs.aio(
             imp_fun.input_concurrency
         ):
             await run_input(input_id, function_call_id, args, kwargs)
```

## modal/_container_io_manager.py

```diff
@@ -640,27 +640,7 @@
     @classmethod
     def stop_fetching_inputs(cls):
         assert cls._singleton
         cls._singleton._fetching_inputs = False
 
 
 ContainerIOManager = synchronize_api(_ContainerIOManager)
-
-
-def is_local() -> bool:
-    """Returns if we are currently on the machine launching/deploying a Modal app
-
-    Returns `True` when executed locally on the user's machine.
-    Returns `False` when executed from a Modal container in the cloud.
-    """
-    return not _ContainerIOManager._singleton
-
-
-async def _interact() -> None:
-    container_io_manager = _ContainerIOManager._singleton
-    if not container_io_manager:
-        raise InvalidError("Interactivity only works inside a Modal container.")
-    else:
-        await container_io_manager.interact()
-
-
-interact = synchronize_api(_interact)
```

## modal/_container_io_manager.pyi

```diff
@@ -403,28 +403,10 @@
     interact: __interact_spec
 
     @classmethod
     def stop_fetching_inputs(cls):
         ...
 
 
-def is_local() -> bool:
-    ...
-
-
-async def _interact() -> None:
-    ...
-
-
-class __interact_spec(typing_extensions.Protocol):
-    def __call__(self) -> None:
-        ...
-
-    async def aio(self, *args, **kwargs) -> None:
-        ...
-
-interact: __interact_spec
-
-
 MAX_OUTPUT_BATCH_SIZE: int
 
 RTT_S: float
```

## modal/app.py

```diff
@@ -4,14 +4,15 @@
 import warnings
 from pathlib import PurePosixPath
 from typing import Any, AsyncGenerator, Callable, ClassVar, Dict, List, Optional, Sequence, Tuple, Union
 
 from google.protobuf.message import Message
 from synchronicity.async_wrap import asynccontextmanager
 
+import modal.execution_context
 from modal_proto import api_pb2
 
 from ._ipython import is_notebook
 from ._output import OutputManager
 from ._resolver import Resolver
 from ._utils.async_utils import synchronize_api
 from ._utils.function_utils import FunctionInfo
@@ -349,15 +350,15 @@
     def _get_watch_mounts(self):
         all_mounts = [
             *self._mounts,
         ]
         for function in self.registered_functions.values():
             all_mounts.extend(function._all_mounts)
 
-        return [m for m in all_mounts if m.is_local()]
+        return [m for m in all_mounts if modal.execution_context.is_local()]
 
     def _add_function(self, function: _Function):
         if function.tag in self._indexed_objects:
             old_function = self._indexed_objects[function.tag]
             if isinstance(old_function, _Function):
                 if not is_notebook():
                     logger.warning(
@@ -562,16 +563,18 @@
                     self._web_endpoints.append(info.get_tag())
             else:
                 info = FunctionInfo(f, serialized=serialized, name_override=name, cls=_cls)
                 webhook_config = None
                 raw_f = f
 
             if info.function_name.endswith(".app"):
-                warnings.warn("Beware: the function name is `app`. Modal will soon rename `Stub` to `App`, "
-                              "so you might run into issues if you have code like `app = modal.App()` in the same scope")
+                warnings.warn(
+                    "Beware: the function name is `app`. Modal will soon rename `Stub` to `App`, "
+                    "so you might run into issues if you have code like `app = modal.App()` in the same scope"
+                )
 
             if not _cls and not info.is_serialized() and "." in info.function_name:  # This is a method
                 raise InvalidError(
                     "`app.function` on methods is not allowed. See https://modal.com/docs/guide/lifecycle-functions instead"
                 )
 
             if is_generator is None:
@@ -816,16 +819,16 @@
 
     For most of Modal's history, the app class was called "Stub", so this exists for
     backwards compatibility, in order to facilitate moving from "Stub" to "App".
     """
 
     def __new__(cls, *args, **kwargs):
         # TODO(erikbern): enable this warning soon!
-        #deprecation_warning(
+        # deprecation_warning(
         #    (2024, 4, 19),
         #   "The use of \"Stub\" has been deprecated in favor of \"App\"."
         #    " This is a pure name change with no other implications."
-        #)
+        # )
         return _App(*args, **kwargs)
 
 
 Stub = synchronize_api(_Stub)
```

## modal/client.pyi

```diff
@@ -17,15 +17,15 @@
     ...
 
 
 class _Client:
     _client_from_env: typing.ClassVar[typing.Union[_Client, None]]
     _client_from_env_lock: typing.ClassVar[asyncio.locks.Lock]
 
-    def __init__(self, server_url: str, client_type: int, credentials: typing.Union[typing.Tuple[str, str], None], version: str = '0.62.98'):
+    def __init__(self, server_url: str, client_type: int, credentials: typing.Union[typing.Tuple[str, str], None], version: str = '0.62.99'):
         ...
 
     @property
     def stub(self) -> typing.Union[modal_proto.api_grpc.ModalClientStub, None]:
         ...
 
     @property
@@ -71,15 +71,15 @@
         ...
 
 
 class Client:
     _client_from_env: typing.ClassVar[typing.Union[Client, None]]
     _client_from_env_lock: typing.ClassVar[asyncio.locks.Lock]
 
-    def __init__(self, server_url: str, client_type: int, credentials: typing.Union[typing.Tuple[str, str], None], version: str = '0.62.98'):
+    def __init__(self, server_url: str, client_type: int, credentials: typing.Union[typing.Tuple[str, str], None], version: str = '0.62.99'):
         ...
 
     @property
     def stub(self) -> typing.Union[modal_proto.api_grpc.ModalClientStub, None]:
         ...
 
     @property
```

## modal/functions.py

```diff
@@ -1,219 +1,98 @@
 # Copyright Modal Labs 2023
 import asyncio
 import inspect
 import time
-import typing
 import warnings
-from contextvars import ContextVar
 from dataclasses import dataclass
 from pathlib import PurePosixPath
 from typing import (
     TYPE_CHECKING,
     Any,
     AsyncGenerator,
-    AsyncIterable,
     AsyncIterator,
     Callable,
     Collection,
     Dict,
-    Iterable,
     List,
     Optional,
     Sequence,
-    Set,
     Sized,
     Tuple,
     Type,
     Union,
 )
 
-from aiostream import pipe, stream
+from aiostream import stream
 from google.protobuf.message import Message
 from grpclib import GRPCError, Status
 from synchronicity.combined_types import MethodWithAio
-from synchronicity.exceptions import UserCodeException
 
 from modal_proto import api_grpc, api_pb2
 
-from ._container_io_manager import is_local
 from ._location import parse_cloud_provider
 from ._output import OutputManager
 from ._pty import get_pty_info
 from ._resolver import Resolver
 from ._resources import convert_fn_config_to_resources_config
-from ._serialization import deserialize, deserialize_data_format, serialize
-from ._traceback import append_modal_tb
+from ._serialization import serialize
 from ._utils.async_utils import (
-    AsyncOrSyncIteratable,
-    queue_batch_iterator,
     synchronize_api,
     synchronizer,
     warn_if_generator_is_not_consumed,
 )
-from ._utils.blob_utils import (
-    BLOB_MAX_PARALLELISM,
-    MAX_OBJECT_SIZE_BYTES,
-    blob_download,
-    blob_upload,
+from ._utils.function_utils import (
+    ATTEMPT_TIMEOUT_GRACE_PERIOD,
+    OUTPUTS_TIMEOUT,
+    FunctionInfo,
+    _create_input,
+    _process_result,
+    _stream_function_call_data,
+    get_referred_objects,
+    is_async,
 )
-from ._utils.function_utils import FunctionInfo, _stream_function_call_data, get_referred_objects, is_async
 from ._utils.grpc_utils import retry_transient_errors
 from ._utils.mount_utils import validate_mount_points, validate_volumes
 from .call_graph import InputInfo, _reconstruct_call_graph
 from .client import _Client
 from .cloud_bucket_mount import _CloudBucketMount, cloud_bucket_mounts_to_proto
-from .config import config, logger
+from .config import config
 from .exception import (
     ExecutionError,
-    FunctionTimeoutError,
     InvalidError,
     NotFoundError,
-    RemoteError,
     deprecation_warning,
 )
+from .execution_context import current_input_id, is_local
 from .gpu import GPU_T, parse_gpu_config
 from .image import _Image
 from .mount import _get_client_mount, _Mount
 from .network_file_system import _NetworkFileSystem, network_file_system_mount_protos
 from .object import Object, _get_environment_name, _Object, live_method, live_method_gen
+from .parallel_map import (
+    _for_each_async,
+    _for_each_sync,
+    _map_async,
+    _map_invocation,
+    _map_sync,
+    _starmap_async,
+    _starmap_sync,
+    _SynchronizedQueue,
+)
 from .proxy import _Proxy
 from .retries import Retries
 from .schedule import Schedule
 from .scheduler_placement import SchedulerPlacement
 from .secret import _Secret
 from .volume import _Volume
 
-OUTPUTS_TIMEOUT = 55.0  # seconds
-ATTEMPT_TIMEOUT_GRACE_PERIOD = 5  # seconds
-
-
 if TYPE_CHECKING:
     import modal.app
 
 
-class _SynchronizedQueue:
-    """mdmd:hidden"""
-
-    # small wrapper around asyncio.Queue to make it cross-thread compatible through synchronicity
-    async def init(self):
-        # in Python 3.8 the asyncio.Queue is bound to the event loop on creation
-        # so it needs to be created in a synchronicity-wrapped init method
-        self.q = asyncio.Queue()
-
-    @synchronizer.no_io_translation
-    async def put(self, item):
-        await self.q.put(item)
-
-    @synchronizer.no_io_translation
-    async def get(self):
-        return await self.q.get()
-
-
-SynchronizedQueue = synchronize_api(_SynchronizedQueue)
-
-
-def exc_with_hints(exc: BaseException):
-    """mdmd:hidden"""
-    if isinstance(exc, ImportError) and exc.msg == "attempted relative import with no known parent package":
-        exc.msg += """\n
-HINT: For relative imports to work, you might need to run your modal app as a module. Try:
-- `python -m my_pkg.my_app` instead of `python my_pkg/my_app.py`
-- `modal deploy my_pkg.my_app` instead of `modal deploy my_pkg/my_app.py`
-"""
-    elif isinstance(
-        exc, RuntimeError
-    ) and "CUDA error: no kernel image is available for execution on the device" in str(exc):
-        msg = (
-            exc.args[0]
-            + """\n
-HINT: This error usually indicates an outdated CUDA version. Older versions of torch (<=1.12)
-come with CUDA 10.2 by default. If pinning to an older torch version, you can specify a CUDA version
-manually, for example:
--  image.pip_install("torch==1.12.1+cu116", find_links="https://download.pytorch.org/whl/torch_stable.html")
-"""
-        )
-        exc.args = (msg,)
-
-    return exc
-
-
-async def _process_result(result: api_pb2.GenericResult, data_format: int, stub, client=None):
-    if result.WhichOneof("data_oneof") == "data_blob_id":
-        data = await blob_download(result.data_blob_id, stub)
-    else:
-        data = result.data
-
-    if result.status == api_pb2.GenericResult.GENERIC_STATUS_TIMEOUT:
-        raise FunctionTimeoutError(result.exception)
-    elif result.status != api_pb2.GenericResult.GENERIC_STATUS_SUCCESS:
-        if data:
-            try:
-                exc = deserialize(data, client)
-            except Exception as deser_exc:
-                raise ExecutionError(
-                    "Could not deserialize remote exception due to local error:\n"
-                    + f"{deser_exc}\n"
-                    + "This can happen if your local environment does not have the remote exception definitions.\n"
-                    + "Here is the remote traceback:\n"
-                    + f"{result.traceback}"
-                )
-            if not isinstance(exc, BaseException):
-                raise ExecutionError(f"Got remote exception of incorrect type {type(exc)}")
-
-            if result.serialized_tb:
-                try:
-                    tb_dict = deserialize(result.serialized_tb, client)
-                    line_cache = deserialize(result.tb_line_cache, client)
-                    append_modal_tb(exc, tb_dict, line_cache)
-                except Exception:
-                    pass
-            uc_exc = UserCodeException(exc_with_hints(exc))
-            raise uc_exc
-        raise RemoteError(result.exception)
-
-    try:
-        return deserialize_data_format(data, data_format, client)
-    except ModuleNotFoundError as deser_exc:
-        raise ExecutionError(
-            "Could not deserialize result due to error:\n"
-            + f"{deser_exc}\n"
-            + "This can happen if your local environment does not have a module that was used to construct the result. \n"
-        )
-
-
-async def _create_input(args, kwargs, client, idx: Optional[int] = None) -> api_pb2.FunctionPutInputsItem:
-    """Serialize function arguments and create a FunctionInput protobuf,
-    uploading to blob storage if needed.
-    """
-    if idx is None:
-        idx = 0
-
-    args_serialized = serialize((args, kwargs))
-
-    if len(args_serialized) > MAX_OBJECT_SIZE_BYTES:
-        args_blob_id = await blob_upload(args_serialized, client.stub)
-
-        return api_pb2.FunctionPutInputsItem(
-            input=api_pb2.FunctionInput(args_blob_id=args_blob_id, data_format=api_pb2.DATA_FORMAT_PICKLE),
-            idx=idx,
-        )
-    else:
-        return api_pb2.FunctionPutInputsItem(
-            input=api_pb2.FunctionInput(args=args_serialized, data_format=api_pb2.DATA_FORMAT_PICKLE),
-            idx=idx,
-        )
-
-
-@dataclass
-class _OutputValue:
-    # box class for distinguishing None results from non-existing/None markers
-    value: Any
-
-
 class _Invocation:
     """Internal client representation of a single-input call to a Modal Function or Generator"""
 
     def __init__(self, stub: api_grpc.ModalClientStub, function_call_id: str, client: _Client):
         self.stub = stub
         self.client = client  # Used by the deserializer.
         self.function_call_id = function_call_id  # TODO: remove and use only input_id
@@ -318,193 +197,14 @@
                     items_received += 1
                 # The comparison avoids infinite loops if a non-deterministic generator is retried
                 # and produces less data in the second run than what was already sent.
                 if items_total is not None and items_received >= items_total:
                     break
 
 
-MAP_INVOCATION_CHUNK_SIZE = 49
-
-
-async def _map_invocation(
-    function_id: str,
-    raw_input_queue: _SynchronizedQueue,
-    client: _Client,
-    order_outputs: bool,
-    return_exceptions: bool,
-    count_update_callback: Optional[Callable[[int, int], None]],
-):
-    assert client.stub
-    request = api_pb2.FunctionMapRequest(
-        function_id=function_id,
-        parent_input_id=current_input_id() or "",
-        function_call_type=api_pb2.FUNCTION_CALL_TYPE_MAP,
-        return_exceptions=return_exceptions,
-    )
-    response = await retry_transient_errors(client.stub.FunctionMap, request)
-
-    function_call_id = response.function_call_id
-
-    have_all_inputs = False
-    num_inputs = 0
-    num_outputs = 0
-
-    def count_update():
-        if count_update_callback is not None:
-            count_update_callback(num_outputs, num_inputs)
-
-    pending_outputs: Dict[str, int] = {}  # Map input_id -> next expected gen_index value
-    completed_outputs: Set[str] = set()  # Set of input_ids whose outputs are complete (expecting no more values)
-
-    input_queue: asyncio.Queue = asyncio.Queue()
-
-    async def create_input(argskwargs):
-        nonlocal num_inputs
-        idx = num_inputs
-        num_inputs += 1
-        (args, kwargs) = argskwargs
-        return await _create_input(args, kwargs, client, idx)
-
-    async def input_iter():
-        while 1:
-            raw_input = await raw_input_queue.get()
-            if raw_input is None:  # end of input sentinel
-                return
-            yield raw_input  # args, kwargs
-
-    async def drain_input_generator():
-        # Parallelize uploading blobs
-        proto_input_stream = stream.iterate(input_iter()) | pipe.map(
-            create_input,  # type: ignore[reportArgumentType]
-            ordered=True,
-            task_limit=BLOB_MAX_PARALLELISM,
-        )
-        async with proto_input_stream.stream() as streamer:
-            async for item in streamer:
-                await input_queue.put(item)
-
-        # close queue iterator
-        await input_queue.put(None)
-        yield
-
-    async def pump_inputs():
-        assert client.stub
-        nonlocal have_all_inputs, num_inputs
-        async for items in queue_batch_iterator(input_queue, MAP_INVOCATION_CHUNK_SIZE):
-            request = api_pb2.FunctionPutInputsRequest(
-                function_id=function_id, inputs=items, function_call_id=function_call_id
-            )
-            logger.debug(
-                f"Pushing {len(items)} inputs to server. Num queued inputs awaiting push is {input_queue.qsize()}."
-            )
-            resp = await retry_transient_errors(
-                client.stub.FunctionPutInputs,
-                request,
-                max_retries=None,
-                max_delay=10,
-                additional_status_codes=[Status.RESOURCE_EXHAUSTED],
-            )
-            count_update()
-            for item in resp.inputs:
-                pending_outputs.setdefault(item.input_id, 0)
-            logger.debug(
-                f"Successfully pushed {len(items)} inputs to server. Num queued inputs awaiting push is {input_queue.qsize()}."
-            )
-
-        have_all_inputs = True
-        yield
-
-    async def get_all_outputs():
-        assert client.stub
-        nonlocal num_inputs, num_outputs, have_all_inputs
-        last_entry_id = "0-0"
-        while not have_all_inputs or len(pending_outputs) > len(completed_outputs):
-            request = api_pb2.FunctionGetOutputsRequest(
-                function_call_id=function_call_id,
-                timeout=OUTPUTS_TIMEOUT,
-                last_entry_id=last_entry_id,
-                clear_on_success=False,
-            )
-            response = await retry_transient_errors(
-                client.stub.FunctionGetOutputs,
-                request,
-                max_retries=20,
-                attempt_timeout=OUTPUTS_TIMEOUT + ATTEMPT_TIMEOUT_GRACE_PERIOD,
-            )
-
-            if len(response.outputs) == 0:
-                continue
-
-            last_entry_id = response.last_entry_id
-            for item in response.outputs:
-                pending_outputs.setdefault(item.input_id, 0)
-                if item.input_id in completed_outputs:
-                    # If this input is already completed, it means the output has already been
-                    # processed and was received again due to a duplicate.
-                    continue
-                completed_outputs.add(item.input_id)
-                num_outputs += 1
-                yield item
-
-    async def get_all_outputs_and_clean_up():
-        assert client.stub
-        try:
-            async for item in get_all_outputs():
-                yield item
-        finally:
-            # "ack" that we have all outputs we are interested in and let backend clear results
-            request = api_pb2.FunctionGetOutputsRequest(
-                function_call_id=function_call_id,
-                timeout=0,
-                last_entry_id="0-0",
-                clear_on_success=True,
-            )
-            await retry_transient_errors(client.stub.FunctionGetOutputs, request)
-
-    async def fetch_output(item: api_pb2.FunctionGetOutputsItem) -> Tuple[int, Any]:
-        try:
-            output = await _process_result(item.result, item.data_format, client.stub, client)
-        except Exception as e:
-            if return_exceptions:
-                output = e
-            else:
-                raise e
-        return (item.idx, output)
-
-    async def poll_outputs():
-        outputs = stream.iterate(get_all_outputs_and_clean_up())
-        outputs_fetched = outputs | pipe.map(fetch_output, ordered=True, task_limit=BLOB_MAX_PARALLELISM)  # type: ignore
-
-        # map to store out-of-order outputs received
-        received_outputs = {}
-        output_idx = 0
-
-        async with outputs_fetched.stream() as streamer:
-            async for idx, output in streamer:
-                count_update()
-                if not order_outputs:
-                    yield _OutputValue(output)
-                else:
-                    # hold on to outputs for function maps, so we can reorder them correctly.
-                    received_outputs[idx] = output
-                    while output_idx in received_outputs:
-                        output = received_outputs.pop(output_idx)
-                        yield _OutputValue(output)
-                        output_idx += 1
-
-        assert len(received_outputs) == 0
-
-    response_gen = stream.merge(drain_input_generator(), pump_inputs(), poll_outputs())
-
-    async with response_gen.stream() as streamer:
-        async for response in streamer:
-            if response is not None:
-                yield response.value
-
-
 # Wrapper type for api_pb2.FunctionStats
 @dataclass(frozen=True)
 class FunctionStats:
     """Simple data structure storing stats for a running function."""
 
     backlog: int
     num_active_runners: int
@@ -1184,15 +884,16 @@
     @live_method_gen
     async def _map(
         self, input_queue: _SynchronizedQueue, order_outputs: bool, return_exceptions: bool
     ) -> AsyncGenerator[Any, None]:
         """mdmd:hidden
 
         Synchronicity-wrapped map implementation. To be safe against invocations of user code in the synchronicity thread
-        it doesn't accept an [async]iterator, and instead takes a _SynchronizedQueue instance.
+        it doesn't accept an [async]iterator, and instead takes a _SynchronizedQueue instance that is fed by
+        higher level functions like .map()
 
         _SynchronizedQueue is used instead of asyncio.Queue so that the main thread can put
         items in the queue safely.
         """
         if self._web_url:
             raise InvalidError(
                 "A web endpoint function cannot be directly invoked for parallel remote execution. "
@@ -1236,185 +937,14 @@
         async for res in invocation.run_generator():
             yield res
 
     @synchronizer.no_io_translation
     async def _call_generator_nowait(self, args, kwargs):
         return await _Invocation.create(self.object_id, args, kwargs, self._client)
 
-    # note that `map()` is not synchronicity-wrapped, since it accepts executable code in the form of
-    # iterators that we don't want to run inside the synchronicity thread. We delegate to `._map()` with
-    # a safer Queue as input
-    @synchronizer.nowrap
-    @warn_if_generator_is_not_consumed(function_name="Function.map")
-    def _map_sync(
-        self,
-        *input_iterators: Iterable[Any],  # one input iterator per argument in the mapped-over function/generator
-        kwargs={},  # any extra keyword arguments for the function
-        order_outputs: bool = True,  # return outputs in order
-        return_exceptions: bool = False,  # propagate exceptions (False) or aggregate them in the results list (True)
-    ) -> AsyncOrSyncIteratable:
-        """Parallel map over a set of inputs.
-
-        Takes one iterator argument per argument in the function being mapped over.
-
-        Example:
-        ```python
-        @app.function()
-        def my_func(a):
-            return a ** 2
-
-
-        @app.local_entrypoint()
-        def main():
-            assert list(my_func.map([1, 2, 3, 4])) == [1, 4, 9, 16]
-        ```
-
-        If applied to a `app.function`, `map()` returns one result per input and the output order
-        is guaranteed to be the same as the input order. Set `order_outputs=False` to return results
-        in the order that they are completed instead.
-
-        `return_exceptions` can be used to treat exceptions as successful results:
-
-        ```python
-        @app.function()
-        def my_func(a):
-            if a == 2:
-                raise Exception("ohno")
-            return a ** 2
-
-
-        @app.local_entrypoint()
-        def main():
-            # [0, 1, UserCodeException(Exception('ohno'))]
-            print(list(my_func.map(range(3), return_exceptions=True)))
-        ```
-        """
-
-        return AsyncOrSyncIteratable(
-            self._map_async(
-                *input_iterators, kwargs=kwargs, order_outputs=order_outputs, return_exceptions=return_exceptions
-            ),
-            nested_async_message="You can't iter(Function.map()) or Function.for_each() from an async function. Use async for ... Function.map.aio() or Function.for_each.aio() instead.",
-        )
-
-    @synchronizer.nowrap
-    @warn_if_generator_is_not_consumed(function_name="Function.map.aio")
-    async def _map_async(
-        self,
-        *input_iterators: Union[
-            Iterable[Any], AsyncIterable[Any]
-        ],  # one input iterator per argument in the mapped-over function/generator
-        kwargs={},  # any extra keyword arguments for the function
-        order_outputs: bool = True,  # return outputs in order
-        return_exceptions: bool = False,  # propagate exceptions (False) or aggregate them in the results list (True)
-    ) -> AsyncGenerator[Any, None]:
-        """mdmd:hidden
-        This runs in an event loop on the main thread
-
-        It concurrently feeds new input to the input queue and yields available outputs
-        to the caller.
-        Note that since the iterator(s) can block, it's a bit opaque how often the event
-        loop decides to get a new input vs how often it will emit a new output.
-        We could make this explicit as an improvement or even let users decide what they
-        prefer: throughput (prioritize queueing inputs) or latency (prioritize yielding results)
-        """
-        raw_input_queue: Any = SynchronizedQueue()  # type: ignore
-        raw_input_queue.init()
-
-        async def feed_queue():
-            # This runs in a main thread event loop, so it doesn't block the synchronizer loop
-            async with stream.zip(*[stream.iterate(it) for it in input_iterators]).stream() as streamer:
-                async for args in streamer:
-                    await raw_input_queue.put.aio((args, kwargs))
-            await raw_input_queue.put.aio(None)  # end-of-input sentinel
-
-        feed_input_task = asyncio.create_task(feed_queue())
-
-        try:
-            async for output in self._map.aio(raw_input_queue, order_outputs, return_exceptions):  # type: ignore[reportFunctionMemberAccess]
-                yield output
-        finally:
-            feed_input_task.cancel()  # should only be needed in case of exceptions
-
-    def _for_each_sync(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        """Execute function for all inputs, ignoring outputs.
-
-        Convenient alias for `.map()` in cases where the function just needs to be called.
-        as the caller doesn't have to consume the generator to process the inputs.
-        """
-        # TODO(erikbern): it would be better if this is more like a map_spawn that immediately exits
-        # rather than iterating over the result
-        for _ in self.map(*input_iterators, kwargs=kwargs, order_outputs=False, return_exceptions=ignore_exceptions):
-            pass
-
-    @synchronizer.nowrap
-    async def _for_each_async(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        async for _ in self.map.aio(  # type: ignore
-            *input_iterators, kwargs=kwargs, order_outputs=False, return_exceptions=ignore_exceptions
-        ):
-            pass
-
-    @synchronizer.nowrap
-    @warn_if_generator_is_not_consumed(function_name="Function.starmap")
-    async def _starmap_async(
-        self,
-        input_iterator: Union[Iterable[Sequence[Any]], AsyncIterable[Sequence[Any]]],
-        kwargs={},
-        order_outputs: bool = True,
-        return_exceptions: bool = False,
-    ) -> typing.AsyncIterable[Any]:
-        raw_input_queue: Any = SynchronizedQueue()  # type: ignore
-        raw_input_queue.init()
-
-        async def feed_queue():
-            # This runs in a main thread event loop, so it doesn't block the synchronizer loop
-            async with stream.iterate(input_iterator).stream() as streamer:
-                async for args in streamer:
-                    await raw_input_queue.put.aio((args, kwargs))
-            await raw_input_queue.put.aio(None)  # end-of-input sentinel
-
-        feed_input_task = asyncio.create_task(feed_queue())
-        try:
-            async for output in self._map.aio(raw_input_queue, order_outputs, return_exceptions):  # type: ignore[reportFunctionMemberAccess]
-                yield output
-        finally:
-            feed_input_task.cancel()  # should only be needed in case of exceptions
-
-    @synchronizer.nowrap
-    @warn_if_generator_is_not_consumed(function_name="Function.starmap.aio")
-    def _starmap_sync(
-        self,
-        input_iterator: Iterable[Sequence[Any]],
-        kwargs={},
-        order_outputs: bool = True,
-        return_exceptions: bool = False,
-    ) -> AsyncOrSyncIteratable:
-        """Like `map`, but spreads arguments over multiple function arguments.
-
-        Assumes every input is a sequence (e.g. a tuple).
-
-        Example:
-        ```python
-        @app.function()
-        def my_func(a, b):
-            return a + b
-
-
-        @app.local_entrypoint()
-        def main():
-            assert list(my_func.starmap([(1, 2), (3, 4)])) == [3, 7]
-        ```
-        """
-        return AsyncOrSyncIteratable(
-            self._starmap_async(
-                input_iterator, kwargs=kwargs, order_outputs=order_outputs, return_exceptions=return_exceptions
-            ),
-            nested_async_message="You can't run Function.map() or Function.for_each() from an async function. Use Function.map.aio()/Function.for_each.aio() instead.",
-        )
-
     @synchronizer.no_io_translation
     @live_method
     async def remote(self, *args, **kwargs) -> Any:
         """
         Calls the function remotely, executing it with the given arguments and returning the execution's result.
         """
         # TODO: Generics/TypeVars
@@ -1636,60 +1166,7 @@
         return await asyncio.gather(*[fc.get() for fc in function_calls])
     except Exception as exc:
         # TODO: kill all running function calls
         raise exc
 
 
 gather = synchronize_api(_gather)
-
-
-_current_input_id: ContextVar = ContextVar("_current_input_id")
-_current_function_call_id: ContextVar = ContextVar("_current_function_call_id")
-
-
-def current_input_id() -> Optional[str]:
-    """Returns the input ID for the current input.
-
-    Can only be called from Modal function (i.e. in a container context).
-
-    ```python
-    from modal import current_input_id
-
-    @app.function()
-    def process_stuff():
-        print(f"Starting to process {current_input_id()}")
-    ```
-    """
-    try:
-        return _current_input_id.get()
-    except LookupError:
-        return None
-
-
-def current_function_call_id() -> Optional[str]:
-    """Returns the function call ID for the current input.
-
-    Can only be called from Modal function (i.e. in a container context).
-
-    ```python
-    from modal import current_function_call_id
-
-    @app.function()
-    def process_stuff():
-        print(f"Starting to process input from {current_function_call_id()}")
-    ```
-    """
-    try:
-        return _current_function_call_id.get()
-    except LookupError:
-        return None
-
-
-def _set_current_context_ids(input_id: str, function_call_id: str) -> Callable[[], None]:
-    input_token = _current_input_id.set(input_id)
-    function_call_token = _current_function_call_id.set(function_call_id)
-
-    def _reset_current_context_ids():
-        _current_input_id.reset(input_token)
-        _current_function_call_id.reset(function_call_token)
-
-    return _reset_current_context_ids
```

## modal/functions.pyi

```diff
@@ -1,101 +1,33 @@
-import _contextvars
 import google.protobuf.message
 import modal._output
 import modal._utils.async_utils
 import modal._utils.function_utils
 import modal.app
 import modal.call_graph
 import modal.client
 import modal.cloud_bucket_mount
 import modal.gpu
 import modal.image
 import modal.mount
 import modal.network_file_system
 import modal.object
+import modal.parallel_map
 import modal.proxy
 import modal.retries
 import modal.schedule
 import modal.scheduler_placement
 import modal.secret
 import modal.volume
 import modal_proto.api_grpc
 import modal_proto.api_pb2
 import pathlib
 import typing
 import typing_extensions
 
-class _SynchronizedQueue:
-    async def init(self):
-        ...
-
-    async def put(self, item):
-        ...
-
-    async def get(self):
-        ...
-
-
-class SynchronizedQueue:
-    def __init__(self, /, *args, **kwargs):
-        ...
-
-    class __init_spec(typing_extensions.Protocol):
-        def __call__(self):
-            ...
-
-        async def aio(self, *args, **kwargs):
-            ...
-
-    init: __init_spec
-
-    class __put_spec(typing_extensions.Protocol):
-        def __call__(self, item):
-            ...
-
-        async def aio(self, *args, **kwargs):
-            ...
-
-    put: __put_spec
-
-    class __get_spec(typing_extensions.Protocol):
-        def __call__(self):
-            ...
-
-        async def aio(self, *args, **kwargs):
-            ...
-
-    get: __get_spec
-
-
-def exc_with_hints(exc: BaseException):
-    ...
-
-
-async def _process_result(result: modal_proto.api_pb2.GenericResult, data_format: int, stub, client=None):
-    ...
-
-
-async def _create_input(args, kwargs, client, idx: typing.Union[int, None] = None) -> modal_proto.api_pb2.FunctionPutInputsItem:
-    ...
-
-
-class _OutputValue:
-    value: typing.Any
-
-    def __init__(self, value: typing.Any) -> None:
-        ...
-
-    def __repr__(self):
-        ...
-
-    def __eq__(self, other):
-        ...
-
-
 class _Invocation:
     def __init__(self, stub: modal_proto.api_grpc.ModalClientStub, function_call_id: str, client: modal.client._Client):
         ...
 
     @staticmethod
     async def create(function_id: str, args, kwargs, client: modal.client._Client) -> _Invocation:
         ...
@@ -109,18 +41,14 @@
     async def poll_function(self, timeout: typing.Union[float, None] = None):
         ...
 
     def run_generator(self):
         ...
 
 
-def _map_invocation(function_id: str, raw_input_queue: _SynchronizedQueue, client: modal.client._Client, order_outputs: bool, return_exceptions: bool, count_update_callback: typing.Union[typing.Callable[[int, int], None], None]):
-    ...
-
-
 class FunctionStats:
     backlog: int
     num_active_runners: int
     num_total_runners: int
 
     def __init__(self, backlog: int, num_active_runners: int, num_total_runners: int) -> None:
         ...
@@ -241,47 +169,29 @@
     def web_url(self) -> str:
         ...
 
     @property
     def is_generator(self) -> bool:
         ...
 
-    def _map(self, input_queue: _SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.AsyncGenerator[typing.Any, None]:
+    def _map(self, input_queue: modal.parallel_map._SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.AsyncGenerator[typing.Any, None]:
         ...
 
     async def _call_function(self, args, kwargs):
         ...
 
     async def _call_function_nowait(self, args, kwargs) -> _Invocation:
         ...
 
     def _call_generator(self, args, kwargs):
         ...
 
     async def _call_generator_nowait(self, args, kwargs):
         ...
 
-    def _map_sync(self, *input_iterators: typing.Iterable[typing.Any], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
-        ...
-
-    def _map_async(self, *input_iterators: typing.Union[typing.Iterable[typing.Any], typing.AsyncIterable[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncGenerator[typing.Any, None]:
-        ...
-
-    def _for_each_sync(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        ...
-
-    async def _for_each_async(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        ...
-
-    def _starmap_async(self, input_iterator: typing.Union[typing.Iterable[typing.Sequence[typing.Any]], typing.AsyncIterable[typing.Sequence[typing.Any]]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncIterable[typing.Any]:
-        ...
-
-    def _starmap_sync(self, input_iterator: typing.Iterable[typing.Sequence[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
-        ...
-
     async def remote(self, *args, **kwargs) -> typing.Any:
         ...
 
     def remote_gen(self, *args, **kwargs) -> typing.AsyncGenerator[typing.Any, None]:
         ...
 
     async def shell(self, *args, **kwargs) -> None:
@@ -305,15 +215,15 @@
     def get_raw_f(self) -> typing.Callable[..., typing.Any]:
         ...
 
     async def get_current_stats(self) -> FunctionStats:
         ...
 
     class __map_spec(typing_extensions.Protocol):
-        def __call__(self, *input_iterators: typing.Iterable[typing.Any], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
+        def __call__(self, *input_iterators, kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
             ...
 
         def aio(self, *input_iterators: typing.Union[typing.Iterable[typing.Any], typing.AsyncIterable[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncGenerator[typing.Any, None]:
             ...
 
     map: __map_spec
 
@@ -426,18 +336,18 @@
         ...
 
     @property
     def is_generator(self) -> bool:
         ...
 
     class ___map_spec(typing_extensions.Protocol):
-        def __call__(self, input_queue: SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.Generator[typing.Any, None, None]:
+        def __call__(self, input_queue: modal.parallel_map.SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.Generator[typing.Any, None, None]:
             ...
 
-        def aio(self, input_queue: SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.AsyncGenerator[typing.Any, None]:
+        def aio(self, input_queue: modal.parallel_map.SynchronizedQueue, order_outputs: bool, return_exceptions: bool) -> typing.AsyncGenerator[typing.Any, None]:
             ...
 
     _map: ___map_spec
 
     class ___call_function_spec(typing_extensions.Protocol):
         def __call__(self, args, kwargs):
             ...
@@ -464,32 +374,14 @@
             ...
 
         async def aio(self, *args, **kwargs):
             ...
 
     _call_generator_nowait: ___call_generator_nowait_spec
 
-    def _map_sync(self, *input_iterators: typing.Iterable[typing.Any], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
-        ...
-
-    def _map_async(self, *input_iterators: typing.Union[typing.Iterable[typing.Any], typing.AsyncIterable[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncGenerator[typing.Any, None]:
-        ...
-
-    def _for_each_sync(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        ...
-
-    async def _for_each_async(self, *input_iterators, kwargs={}, ignore_exceptions: bool = False):
-        ...
-
-    def _starmap_async(self, input_iterator: typing.Union[typing.Iterable[typing.Sequence[typing.Any]], typing.AsyncIterable[typing.Sequence[typing.Any]]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncIterable[typing.Any]:
-        ...
-
-    def _starmap_sync(self, input_iterator: typing.Iterable[typing.Sequence[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
-        ...
-
     class __remote_spec(typing_extensions.Protocol):
         def __call__(self, *args, **kwargs) -> typing.Any:
             ...
 
         async def aio(self, *args, **kwargs) -> typing.Any:
             ...
 
@@ -543,15 +435,15 @@
 
         async def aio(self, *args, **kwargs) -> FunctionStats:
             ...
 
     get_current_stats: __get_current_stats_spec
 
     class __map_spec(typing_extensions.Protocol):
-        def __call__(self, *input_iterators: typing.Iterable[typing.Any], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
+        def __call__(self, *input_iterators, kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> modal._utils.async_utils.AsyncOrSyncIteratable:
             ...
 
         def aio(self, *input_iterators: typing.Union[typing.Iterable[typing.Any], typing.AsyncIterable[typing.Any]], kwargs={}, order_outputs: bool = True, return_exceptions: bool = False) -> typing.AsyncGenerator[typing.Any, None]:
             ...
 
     map: __map_spec
 
@@ -644,24 +536,7 @@
     def __call__(self, *function_calls: FunctionCall):
         ...
 
     async def aio(self, *args, **kwargs):
         ...
 
 gather: __gather_spec
-
-
-def current_input_id() -> typing.Union[str, None]:
-    ...
-
-
-def current_function_call_id() -> typing.Union[str, None]:
-    ...
-
-
-def _set_current_context_ids(input_id: str, function_call_id: str) -> typing.Callable[[], None]:
-    ...
-
-
-_current_input_id: _contextvars.ContextVar
-
-_current_function_call_id: _contextvars.ContextVar
```

## modal/mount.py

```diff
@@ -416,15 +416,15 @@
         t0 = time.monotonic()
 
         # Asynchronously list and checksum files with a thread pool, then upload them concurrently.
         n_seen, n_finished = 0, 0
         total_uploads, total_bytes = 0, 0
         accounted_hashes: set[str] = set()
         message_label = _Mount._description(self._entries)
-        blob_upload_concurrency = asyncio.Semaphore(16) # Limit uploads of large files.
+        blob_upload_concurrency = asyncio.Semaphore(16)  # Limit uploads of large files.
         status_row = resolver.add_status_row()
 
         async def _put_file(file_spec: FileUploadSpec) -> api_pb2.MountFile:
             nonlocal n_seen, n_finished, total_uploads, total_bytes
             n_seen += 1
             status_row.message(f"Creating mount {message_label}: Uploaded {n_finished}/{n_seen} files")
 
@@ -529,15 +529,15 @@
             my_local_module.do_stuff()
         ```
         """
 
         # Don't re-run inside container.
 
         mount = _Mount._new()
-        from modal import is_local
+        from .execution_context import is_local
 
         if not is_local():
             return mount  # empty/non-mountable mount in case it's used from within a container
         for module_name in module_names:
             mount = mount._extend(_MountedPythonModule(module_name, remote_dir, condition))
         return mount
```

## modal/runner.py

```diff
@@ -7,25 +7,25 @@
 
 from grpclib import GRPCError, Status
 from rich.console import Console
 from synchronicity.async_wrap import asynccontextmanager
 
 from modal_proto import api_pb2
 
-from ._container_io_manager import is_local
 from ._output import OutputManager, get_app_logs_loop, step_completed, step_progress
 from ._pty import get_pty_info
 from ._resolver import Resolver
 from ._sandbox_shell import connect_to_sandbox
 from ._utils.app_utils import is_valid_app_name
 from ._utils.async_utils import TaskContext, synchronize_api
 from ._utils.grpc_utils import retry_transient_errors
 from .client import HEARTBEAT_INTERVAL, HEARTBEAT_TIMEOUT, _Client
 from .config import config, logger
 from .exception import ExecutionError, InteractiveTimeoutError, InvalidError, _CliUserExecutionError
+from .execution_context import is_local
 from .object import _Object
 from .running_app import RunningApp
 
 if TYPE_CHECKING:
     from .app import _App
 else:
     _App = TypeVar("_App")
@@ -228,15 +228,17 @@
         interactive=interactive,
     )
     async with app._set_local_app(client, running_app), TaskContext(grace=config["logs_timeout"]) as tc:
         # Start heartbeats loop to keep the client alive
         tc.infinite_loop(lambda: _heartbeat(client, running_app.app_id), sleep=HEARTBEAT_INTERVAL)
 
         with output_mgr.ctx_if_visible(output_mgr.make_live(step_progress("Initializing..."))):
-            initialized_msg = f"Initialized. [grey70]View run at [underline]{running_app.app_page_url}[/underline][/grey70]"
+            initialized_msg = (
+                f"Initialized. [grey70]View run at [underline]{running_app.app_page_url}[/underline][/grey70]"
+            )
             output_mgr.print_if_visible(step_completed(initialized_msg))
             output_mgr.update_app_page_url(running_app.app_page_url)
 
         # Start logs loop
         if not shell:
             logs_loop = tc.create_task(get_app_logs_loop(running_app.app_id, client, output_mgr))
 
@@ -324,15 +326,20 @@
     client = await _Client.from_env()
     try:
         running_app: RunningApp = await _init_local_app_existing(client, existing_app_id)
 
         # Create objects
         output_mgr = OutputManager(None, True)
         await _create_all_objects(
-            client, running_app, app._indexed_objects, api_pb2.APP_STATE_UNSPECIFIED, environment_name, output_mgr=output_mgr
+            client,
+            running_app,
+            app._indexed_objects,
+            api_pb2.APP_STATE_UNSPECIFIED,
+            environment_name,
+            output_mgr=output_mgr,
         )
 
         # Communicate to the parent process
         is_ready.set()
     except asyncio.exceptions.CancelledError:
         # Stopped by parent process
         pass
@@ -397,15 +404,17 @@
         )
 
     if client is None:
         client = await _Client.from_env()
 
     output_mgr = OutputManager(stdout, show_progress)
 
-    running_app: RunningApp = await _init_local_app_from_name(client, name, namespace, environment_name=environment_name)
+    running_app: RunningApp = await _init_local_app_from_name(
+        client, name, namespace, environment_name=environment_name
+    )
 
     async with TaskContext(0) as tc:
         # Start heartbeats loop to keep the client alive
         tc.infinite_loop(lambda: _heartbeat(client, running_app.app_id), sleep=HEARTBEAT_INTERVAL)
 
         # Don't change the app state - deploy state is set by AppDeploy
         post_init_state = api_pb2.APP_STATE_UNSPECIFIED
```

## modal/secret.py

```diff
@@ -2,20 +2,20 @@
 import os
 from typing import Dict, List, Optional, Union
 
 from grpclib import GRPCError, Status
 
 from modal_proto import api_pb2
 
-from ._container_io_manager import is_local
 from ._resolver import Resolver
 from ._utils.async_utils import synchronize_api
 from ._utils.grpc_utils import retry_transient_errors
 from .client import _Client
 from .exception import InvalidError, NotFoundError
+from .execution_context import is_local
 from .object import _get_environment_name, _Object
 
 ENV_DICT_WRONG_TYPE_ERR = "the env_dict argument to Secret has to be a dict[str, Union[str, None]]"
 
 
 class _Secret(_Object, type_prefix="st"):
     """Secrets provide a dictionary of environment variables for images.
```

## modal/_utils/function_utils.py

```diff
@@ -9,23 +9,25 @@
 from collections import deque
 from enum import Enum
 from pathlib import Path, PurePosixPath
 from typing import Any, AsyncIterator, Callable, List, Literal, Optional, Set, Type
 
 from grpclib import GRPCError
 from grpclib.exceptions import StreamTerminatedError
+from synchronicity.exceptions import UserCodeException
 
 from modal_proto import api_pb2
 
-from .._serialization import deserialize_data_format, serialize
+from .._serialization import deserialize, deserialize_data_format, serialize
+from .._traceback import append_modal_tb
 from ..config import config, logger
-from ..exception import InvalidError, ModuleNotMountable
+from ..exception import ExecutionError, FunctionTimeoutError, InvalidError, ModuleNotMountable, RemoteError
 from ..mount import ROOT_DIR, _Mount
 from ..object import Object
-from .blob_utils import blob_download
+from .blob_utils import MAX_OBJECT_SIZE_BYTES, blob_download, blob_upload
 from .grpc_utils import RETRYABLE_GRPC_STATUS_CODES, unary_stream
 
 SYS_PREFIXES = {
     Path(p)
     for p in (
         sys.prefix,
         sys.base_prefix,
@@ -374,7 +376,103 @@
                 if isinstance(exc, GRPCError):
                     if exc.status in RETRYABLE_GRPC_STATUS_CODES:
                         await asyncio.sleep(1.0)
                         continue
                 elif isinstance(exc, StreamTerminatedError):
                     continue
             raise
+
+
+OUTPUTS_TIMEOUT = 55.0  # seconds
+ATTEMPT_TIMEOUT_GRACE_PERIOD = 5  # seconds
+
+
+def exc_with_hints(exc: BaseException):
+    """mdmd:hidden"""
+    if isinstance(exc, ImportError) and exc.msg == "attempted relative import with no known parent package":
+        exc.msg += """\n
+HINT: For relative imports to work, you might need to run your modal app as a module. Try:
+- `python -m my_pkg.my_app` instead of `python my_pkg/my_app.py`
+- `modal deploy my_pkg.my_app` instead of `modal deploy my_pkg/my_app.py`
+"""
+    elif isinstance(
+        exc, RuntimeError
+    ) and "CUDA error: no kernel image is available for execution on the device" in str(exc):
+        msg = (
+            exc.args[0]
+            + """\n
+HINT: This error usually indicates an outdated CUDA version. Older versions of torch (<=1.12)
+come with CUDA 10.2 by default. If pinning to an older torch version, you can specify a CUDA version
+manually, for example:
+-  image.pip_install("torch==1.12.1+cu116", find_links="https://download.pytorch.org/whl/torch_stable.html")
+"""
+        )
+        exc.args = (msg,)
+
+    return exc
+
+
+async def _process_result(result: api_pb2.GenericResult, data_format: int, stub, client=None):
+    if result.WhichOneof("data_oneof") == "data_blob_id":
+        data = await blob_download(result.data_blob_id, stub)
+    else:
+        data = result.data
+
+    if result.status == api_pb2.GenericResult.GENERIC_STATUS_TIMEOUT:
+        raise FunctionTimeoutError(result.exception)
+    elif result.status != api_pb2.GenericResult.GENERIC_STATUS_SUCCESS:
+        if data:
+            try:
+                exc = deserialize(data, client)
+            except Exception as deser_exc:
+                raise ExecutionError(
+                    "Could not deserialize remote exception due to local error:\n"
+                    + f"{deser_exc}\n"
+                    + "This can happen if your local environment does not have the remote exception definitions.\n"
+                    + "Here is the remote traceback:\n"
+                    + f"{result.traceback}"
+                )
+            if not isinstance(exc, BaseException):
+                raise ExecutionError(f"Got remote exception of incorrect type {type(exc)}")
+
+            if result.serialized_tb:
+                try:
+                    tb_dict = deserialize(result.serialized_tb, client)
+                    line_cache = deserialize(result.tb_line_cache, client)
+                    append_modal_tb(exc, tb_dict, line_cache)
+                except Exception:
+                    pass
+            uc_exc = UserCodeException(exc_with_hints(exc))
+            raise uc_exc
+        raise RemoteError(result.exception)
+
+    try:
+        return deserialize_data_format(data, data_format, client)
+    except ModuleNotFoundError as deser_exc:
+        raise ExecutionError(
+            "Could not deserialize result due to error:\n"
+            + f"{deser_exc}\n"
+            + "This can happen if your local environment does not have a module that was used to construct the result. \n"
+        )
+
+
+async def _create_input(args, kwargs, client, idx: Optional[int] = None) -> api_pb2.FunctionPutInputsItem:
+    """Serialize function arguments and create a FunctionInput protobuf,
+    uploading to blob storage if needed.
+    """
+    if idx is None:
+        idx = 0
+
+    args_serialized = serialize((args, kwargs))
+
+    if len(args_serialized) > MAX_OBJECT_SIZE_BYTES:
+        args_blob_id = await blob_upload(args_serialized, client.stub)
+
+        return api_pb2.FunctionPutInputsItem(
+            input=api_pb2.FunctionInput(args_blob_id=args_blob_id, data_format=api_pb2.DATA_FORMAT_PICKLE),
+            idx=idx,
+        )
+    else:
+        return api_pb2.FunctionPutInputsItem(
+            input=api_pb2.FunctionInput(args=args_serialized, data_format=api_pb2.DATA_FORMAT_PICKLE),
+            idx=idx,
+        )
```

## modal_version/_version_generated.py

```diff
@@ -1,4 +1,4 @@
 # Copyright Modal Labs 2024
 
 # Note: Reset this value to -1 whenever you make a minor `0.X` release of the client.
-build_number = 98  # git: 287a071
+build_number = 99  # git: 8ea3c14
```

## test/function_test.py

```diff
@@ -754,15 +754,15 @@
 
 
 @pytest.mark.asyncio
 async def test_map_large_inputs(client, servicer, monkeypatch, blob_server):
     # TODO: tests making use of mock blob server currently have to be async, since the
     #  blob server runs as an async pytest fixture which will have its event loop blocked
     #  by the test itself otherwise... Should move to its own thread.
-    monkeypatch.setattr("modal.functions.MAX_OBJECT_SIZE_BYTES", 1)
+    monkeypatch.setattr("modal._utils.function_utils.MAX_OBJECT_SIZE_BYTES", 1)
     servicer.use_blob_outputs = True
     app = App()
     dummy_modal = app.function()(dummy)
 
     _, blobs = blob_server
     async with app.run.aio(client=client):
         assert len(blobs) == 0
```

## test/test_asgi_wrapper.py

```diff
@@ -2,15 +2,15 @@
 import asyncio
 import pytest
 
 import fastapi
 from starlette.requests import ClientDisconnect
 
 from modal._asgi import asgi_app_wrapper
-from modal.functions import _set_current_context_ids
+from modal.execution_context import _set_current_context_ids
 
 
 class DummyException(Exception):
     pass
 
 
 app = fastapi.FastAPI()
```

## Comparing `modal-0.62.98.dist-info/LICENSE` & `modal-0.62.99.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modal-0.62.98.dist-info/METADATA` & `modal-0.62.99.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modal
-Version: 0.62.98
+Version: 0.62.99
 Summary: Python client library for Modal
 Author: Modal Labs
 Author-email: support@modal.com
 Project-URL: Homepage, https://modal.com
 Keywords: modal,client,cloud,serverless,infrastructure
 Classifier: Topic :: System :: Distributed Computing
 Classifier: Operating System :: OS Independent
```

## Comparing `modal-0.62.98.dist-info/RECORD` & `modal-0.62.99.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,86 +1,90 @@
-modal/__init__.py,sha256=6W6XMQXIVGGIZVUXHk5xrk1vrllk6OndXMs_SC-zjX8,2100
+modal/__init__.py,sha256=NBneFs9SID4d9fX3Q9FLdr1-pburBBP1mFXlRauxmRo,2095
 modal/__main__.py,sha256=EKalcwy_6N0L5iqIvlYpXihi3zxy9HNuUMvnbraoTrk,1141
-modal/_asgi.py,sha256=CEiJv4CBgJ30UtZ6KTlisNSwRJswV_ccDTMUDUn-g_8,15476
-modal/_container_entrypoint.py,sha256=T_l09BrCaOCjnOd9SQm6HDCZZ2nHvPRifR1-JdYU3lo,28421
+modal/_asgi.py,sha256=pumwIq8Sk5bXpaZpNRmo5QLykRwH0yCqPzlMkB9eCfs,15484
+modal/_container_entrypoint.py,sha256=4jjOnBo54km9OGTYTPp6vJOQjn6myPLLHM8w99BVbvg,28457
 modal/_container_exec.py,sha256=FiaSBUD0UkQRF8hW0AFf0rbqC8lb87f3EGeg7Mr5dx4,4349
-modal/_container_io_manager.py,sha256=eISAzNK-3mU3z_fnW_k9aJo0GOLdwS9LSoHuwW-8G30,28709
-modal/_container_io_manager.pyi,sha256=BALNBQ4JKjOC8SSkyGV1SM6sjPIqGXWGJAHLLhH9cU4,12668
+modal/_container_io_manager.py,sha256=W2CSjRcvDGL4oePRvLx0Ymogy8-M5qJcitwkIHw_FwA,28110
+modal/_container_io_manager.pyi,sha256=G5qC3Vy2Sh7Z_q1zlRvCxH-Cw06lGLBcTRl__I90UXY,12406
 modal/_ipython.py,sha256=HF_DYy0e0qM9WnGDmTY30s1RxzGya9GeORCauCEpRaE,450
 modal/_location.py,sha256=_SdCPzVOl7HRwLWIxzTJjhdpOo1sIl4flfEJ-bAbiDE,929
 modal/_output.py,sha256=1GXKp-Qr-C5oe0e4A5epTgcIFhcp5Cko3HG_ircLFWg,20565
 modal/_proxy_tunnel.py,sha256=gnKyCfmVB7x2d1A6c-JDysNIP3kEFxmXzhcXhPrzPn0,1906
 modal/_pty.py,sha256=GhzrHKZpoI-YHMDN7LoySlSYLpoJ4yGPSF-fqiNsFrM,1336
 modal/_resolver.py,sha256=FAkA_3_VK74MEiNOmYH9s2mThD38Z7QNWhNNY3r7qcI,7077
 modal/_resources.py,sha256=4pOUFIgF2nwiKm744Q49fU4ZBZABywOAScttxUhGAgs,1142
 modal/_sandbox_shell.py,sha256=OtkeMqOymFVqDBWt3kmT6_4mslPu0ZCfjqYjwUb6cGE,1658
 modal/_serialization.py,sha256=evTjYWEqh3A7dGnvrFf8sPRyYgn53rBUPHL7QJLyw2o,12133
 modal/_traceback.py,sha256=l6y-flU7rQK3YelSthHv4Paurw3rA5q9KofBRRVHCVM,10029
 modal/_tunnel.py,sha256=L3ojxnKMMslYXN5_HFclCLGjOEIxKif8UUa0nAjrnYM,5171
 modal/_tunnel.pyi,sha256=MhcFhkpt-Fo9dA59qhXtoNA9ktyJzwtmGj0vWaUdFiM,1337
 modal/_watcher.py,sha256=WFnaF5npnkFb-gGG9X4Tc5DZDVqXDU-STSvfJKg7SOs,3605
-modal/app.py,sha256=WctSSIS-kc1XB3hxuN3mcaO8Vg93ZX9Zzjj1Dj0yojY,35868
+modal/app.py,sha256=-4Qxv966VaUC0tOdulOpCNgdATIF57KkIjX-_3OpsaE,35951
 modal/app.pyi,sha256=pGdRetdhvhu7xPmRFYsE8bWNoAHRuPzb4A9hX3-NK7M,19109
 modal/app_utils.py,sha256=EuRot0Xhrq5m7bQgM8yVZkRxiKfnBMJSFguu-lsJ5Vs,748
 modal/app_utils.pyi,sha256=9u0YQMoIt158Uh-HxUGrnuBeMFdBLdi_DLHHZNSGU-M,613
 modal/call_graph.py,sha256=KhqmbJPlcpL-PO0N_lrK8VHoXK_xAHq5IhZ9A9rW9Zk,2524
 modal/client.py,sha256=ORQojL4QndWBnCB8MjNsv8OAPbKVp4X1od9ESHRW1-g,10828
-modal/client.pyi,sha256=9enOu7cCe3vzx8TWfG1AtDZh2qjZAMl2q8MS0nE_3LY,4006
+modal/client.pyi,sha256=1QKyKGpf9Vy0cCxHzR0KXp92u2j-f6xYiY1sNA0jBZ8,4006
 modal/cloud_bucket_mount.py,sha256=5BXwNCF51V2EX0rbVAltRoPaBsTqdjJPC_IkUI0uRPs,5700
 modal/cloud_bucket_mount.pyi,sha256=HQy0m3uXIziIrTbftNY_tja5m0tlYro1Q5vQ2fQq2lM,1217
 modal/cls.py,sha256=6WXC5lvxFJi1QVAYMMAOq7cLAia0nP-Tp1ljhDQPUdo,12734
 modal/cls.pyi,sha256=2gjM9x08Hs9wsdxWmFGdAt4W_hB_jBzqyBAecQ31mNo,6521
 modal/config.py,sha256=_5PGiL2HsxDAL1THv1-FpZXvaiFIaNnT0xd1vGjBhTI,9980
 modal/dict.py,sha256=NOG3E9RgUG_Cvq5yPj25g7Elz0x6_Vuw5bSoZsd_5BE,12249
 modal/dict.pyi,sha256=QpyoMHHnFlNPdk4A5GYd-mZe-xf0gskqiI0bVedTh1w,6784
 modal/environments.py,sha256=xOsBpVpjyBwA-0PVYAQAV_qUtEMxnYzu3Qpmkcqsbeo,2452
 modal/environments.pyi,sha256=HMSB6AeWCXeQcrsEyNiWwSzou3lD0G6h6R_4-AFU3gg,1439
 modal/exception.py,sha256=TtBYDwV3_JfAVGBIKcmaeyV28CFbsVsRwtVhVdd8BuE,5868
+modal/execution_context.py,sha256=Rt_nJ6jI0nGtK_6hO7r_78OzlC1fnfwuOX3OhAqr9k4,2324
+modal/execution_context.pyi,sha256=PZ-qh_AkmksTC7vJOA1HEzVsP1B9GI3yP2novHu1dUA,653
 modal/experimental.py,sha256=-nXs5bQoFlQHsJWf6YfIO41BrMoYJuVKr1Pil-EUOOU,316
-modal/functions.py,sha256=C9Bw84JpsuoxomLzIXlk3zMZKwZ31aUPch0408e163E,68108
-modal/functions.pyi,sha256=1dDyxA4jB40k_eK01U13ndVNIQvm9ZgXdGjJOtrpcrw,24083
+modal/functions.py,sha256=8Ytq-4eg5fb6-WB5ShHGsh7RVG0sqA6Tz07ArNvLxh8,47836
+modal/functions.pyi,sha256=84BhAt_MIE2yShcGj8BJO4FWpHb50Mo5S6oeV6Jjy_4,19891
 modal/gpu.py,sha256=hZc8qWwp1iDsUwuilNjDWwL1ci4NINhMlUxPfKgn7Zs,8037
 modal/image.py,sha256=nSn-kCY9SocWiauGrXbK4kPa8GBeDFmwecHcpe4tHcg,68296
 modal/image.pyi,sha256=hA0O-YEJKOyyUo3ie9AaNpCgnkjUBXhTIfx0xcfSlMo,18339
-modal/mount.py,sha256=y-PLb39c4WlkUv_X6rn5zhZRSYKPCFe58f8zW18ydGM,23550
+modal/mount.py,sha256=7bpJJ7LD-_dlY_PBGuRLHNfKpBUaGdqOQOsqZ_yVoBc,23564
 modal/mount.pyi,sha256=xhLXRhKkMmlBiSiNNtA03_4S8m1NzUW6TUhM2FpME2k,9588
 modal/network_file_system.py,sha256=hc14g2eYejkfIDDmR-i00EMNVxpxGMpXbYkqheCb0N0,14428
 modal/network_file_system.pyi,sha256=TI04zO5AUG58HwPIGCD0aB3G53DjUx-XdZy3EkbxvDo,6280
 modal/object.py,sha256=Ja5F9kJlATJvJM7WGBG26cQwW--DICSq8N0aSJL2oTA,8329
 modal/object.pyi,sha256=NVYTuTldnB5j8724Qx-dd0R8tWeuXBfh9IGSBMaw2aw,7573
+modal/parallel_map.py,sha256=3Jvm-SfAeKyqfi_2081UQWB1InVrKHcVz7E-nL7IXjA,15151
+modal/parallel_map.pyi,sha256=dYuVV0z1dniz9gt4iksCAkVKTggoml4Y5xjSloqIYE8,2400
 modal/partial_function.py,sha256=yErY8Mh9O0OLlJKrV2bsTpRtSG9VuQGdZJE80wjwKM8,19975
 modal/partial_function.pyi,sha256=1nfByULFi2rNIiCaFQR3YTv-FwD76aHpN_7iiO1o30E,6172
 modal/proxy.py,sha256=ey5IlDkPfb0zHGSsIQjgtFsLZwdjCoCp-ecIJlbDo5w,1307
 modal/proxy.pyi,sha256=Db8boRetc0K7sAUuKw-mg4eoRAX0GB7vyHOHlwuCEs8,428
 modal/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 modal/queue.py,sha256=0Z2A-ofn0Ad_vnSFL47OZphFAaSM8oJ83tSyX_rcClA,17103
 modal/queue.pyi,sha256=FytGwS0VK2jUffqZb90cAIuQR7-bcykazijgbm4ohe4,7397
 modal/retries.py,sha256=n0tCmWPzOhKCXlTZn4gFaD4UWLbB3sbLzERXJsKUCY4,3768
-modal/runner.py,sha256=Dl3PMVPvzNa36Pqc0Gkggzd6YYyJWU48_jM0oINKxQs,19333
+modal/runner.py,sha256=eDn9r9jiAr3BS43MkiLpUZcbllCCz2e2J3kr0_WA34o,19436
 modal/runner.pyi,sha256=YnCe8B4rvRb4CSK1EleZXaGTy3aLszp1SlFz4MQ8Kf8,5791
 modal/running_app.py,sha256=MRLSMzdAryNbDTI9ox0KbY4X8WBsCxZnhdYje9PP6Ts,461
 modal/sandbox.py,sha256=A3b8x4W5ThXjPlldNcoGBCGJ2uIgM28lrvM9zJhwBso,15035
 modal/sandbox.pyi,sha256=LMiJPsxEfw-w9omPCpWkohZBUONN4AJ1fN_chuDPmKM,6514
 modal/schedule.py,sha256=_XVhLzsJXsqNs4uDO9E5P6HQsf2DF4DakjbRJnHUJ34,2721
 modal/scheduler_placement.py,sha256=15NhfoI1W6qklc8BabM5t19oVNhx9ZbPByaQO7YWSYw,662
-modal/secret.py,sha256=UUf-IY-tL0TnynNNOOD7vjk81nID4GJwqJR8OAuO31I,8913
+modal/secret.py,sha256=B-XctWB7IufY8yI6bXi4FeHzkXpuMuHIEJ334qf5udI,8909
 modal/secret.pyi,sha256=kh0LL3VkJpZHQc71c-6xE2HcnrgSsw9xOHMDWXMatwk,2225
 modal/serving.py,sha256=p7QbGicoPVigCdBdqK52WPJ71TaRPsPabD9-FZDUUwc,4799
 modal/serving.pyi,sha256=Sr_7eADe4cCg3cZqnKj0HsDgeytsWqh9KJk2XXMtt9c,2977
 modal/shared_volume.py,sha256=vB-QLl7EMeusFWT91bVxsmYhzlBNYYYJukLmbF_5Rgk,888
 modal/shared_volume.pyi,sha256=JSrQyY3M0nn6cbhEV_Xd8AqN7VdzWr2_jsHEGH7HYOQ,405
 modal/token_flow.py,sha256=M28JpcN2KCeIaXmlGqtj6NBPcb8qvjEd59_ojR3tMDo,6742
 modal/token_flow.pyi,sha256=F5_ty7M18ulmLG9I-DJoqcg7CrbEgLDndEWvL_p9708,1890
 modal/volume.py,sha256=nA7AiIKZRPNIAIFt2DWiAdYTUSmTSwPc65M0HiRy6Us,29282
 modal/volume.pyi,sha256=h5NY-9l_FDCn_2-w9xepr60pdPXzt4Dhbr1xDUj_SGU,9748
 modal/_utils/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/_utils/app_utils.py,sha256=Uf9oNKcC6wJg3wcHNygWxMlkXuIMVRYIE5nutDSafkQ,465
 modal/_utils/async_utils.py,sha256=9w5DHi61IwHA18z1_gHgHyo4U7rgQXg7S9OITNYNJr0,16049
 modal/_utils/blob_utils.py,sha256=oHWcx13W9NNXx0Das_x50jvVbA29jpGnLJM7c74WfxQ,15054
-modal/_utils/function_utils.py,sha256=hLFTGZ20k8ZV8Od-VqzTcZapO2NyqU87kxnh4XfTJiw,15339
+modal/_utils/function_utils.py,sha256=nMPI4iaIwjNEwF-DhPC6HLdH15nQYHL7_ax3lHDUJR0,19390
 modal/_utils/grpc_testing.py,sha256=n_HsO6pkTx2CStvGvLCl2-Rrj25X35wQ8Jln83QUySM,7927
 modal/_utils/grpc_utils.py,sha256=udeRxwUVLGKwLdrWdItQ8BxxFn0JFmjp6kChB2U9Djk,6422
 modal/_utils/hash_utils.py,sha256=HefF7zPQPxFxyx3fpz-AdSm4QsHZNNvgL9-iQHY-_F4,1790
 modal/_utils/http_utils.py,sha256=DGKvrSQxAHjP_LNdM6EaL-TIQPGDX5vt3gcMGg2xkz4,1426
 modal/_utils/logger.py,sha256=0QvxZpyhhZwKZ5xOcMC9btS_XBE1wAKhtQmISU3gdd0,1311
 modal/_utils/mount_utils.py,sha256=f2q_tlDLVHcttJBkuoGfy99G-krZ-s5vZARi-bYzv-E,2341
 modal/_utils/package_utils.py,sha256=mh5zRXmY9wSmvqaCqFBAdPntLP1EmSkDWJt3GB4ey4s,1640
@@ -135,15 +139,15 @@
 modal_proto/api_pb2_grpc.py,sha256=T43JJIXTS2fuVLMJYS08RoKyrrqEBfd2yNu-2-WI8YM,187383
 modal_proto/options.proto,sha256=a-siq4swVbZPfaFRXAipRZzGP2bq8OsdUvjlyzAeodQ,488
 modal_proto/options_grpc.py,sha256=M18X3d-8F_cNYSVM3I25dUTO5rZ0rd-vCCfynfh13Nc,125
 modal_proto/options_pb2.py,sha256=OC2Oob8Yz_3Gs58hwpS_jSFWpGsWMcxlgXbJCyw3gMk,1827
 modal_proto/options_pb2_grpc.py,sha256=1oboBPFxaTEXt9Aw7EAj8gXHDCNMhZD2VXqocC9l_gk,159
 modal_version/__init__.py,sha256=HTM4O90gT-ndgKJIFiD8JRMsdauRAWxc9TDGhBuhkYI,470
 modal_version/__main__.py,sha256=2FO0yYQQwDTh6udt1h-cBnGd1c4ZyHnHSI4BksxzVac,105
-modal_version/_version_generated.py,sha256=X_XHCDZXuwNc2whOSIZVOt90A0Chv47fLzhZ646MXbc,149
+modal_version/_version_generated.py,sha256=x9VAmLtjZ122puE6lPyoVBzF1OOjQ0QKBFNhq5FWOKc,149
 test/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 test/aio_test.py,sha256=u8nTraWcjAxPU7mV5w3m5hI2Xi9U1rXEEYyBnXTIEVs,199
 test/async_utils_test.py,sha256=T4HJlfMNe1cL5cEzFxv2e4rJoaJkqygvZYSgS75FAo4,7247
 test/blob_test.py,sha256=72LpqPJreb0mtLlkS14IN6rsvsQUWr1yrM97uTANUQo,2539
 test/cli_imports_test.py,sha256=U2JGz759LUSA-k1sbUmx3ALD6DPmVFthfodpeg9bXPM,4635
 test/cli_test.py,sha256=oao8yP8knbSUm6YJbppBr_c4CrIRTfPzlGeXW-n6YXE,27245
 test/client_test.py,sha256=E9lfLgW9EFnA_stbw0vX8vUA7djIiO5fW-x-JR7tKeM,6426
@@ -156,15 +160,15 @@
 test/cpu_test.py,sha256=36StHgZlfblNGYxzwRvqL137x1Dk6C7oEb6y6cDWQi0,398
 test/decorator_test.py,sha256=ec0oAO-oBE0fMVehr83Gj7gnRtqL4pz8jN6vwMDYXaw,1850
 test/deprecation_test.py,sha256=IS_pracoNgt0vuEdLThukZpBkPBX4LUCQP5sAUMhjiY,1055
 test/dict_test.py,sha256=lRm4adnecGM8Q3uWd5YXyI5GfLVKa5oHSInIH2Ylgtg,1436
 test/e2e_test.py,sha256=OBBTB8p422PBD0iCoOfNTQQsIs_sX6_SkT1dNv3DiY4,2152
 test/error_test.py,sha256=bDxKUwE4WJ1qwAfm0Jlzqkb3WetF0YLxplrgjevAv4U,165
 test/function_serialization_test.py,sha256=4SJM8EdH9YXJ1woBla5L2VdnxWqSkOiL_EzDUU85KKY,966
-test/function_test.py,sha256=CgPO7oGt3hXU-iXBD5n-frDkebdCf7-guRpbT0T8lPE,23757
+test/function_test.py,sha256=kVY5dxup6dR2Ictak_1loOT7aexSdnfSHawF8O5LkM8,23769
 test/function_utils_test.py,sha256=AZr8ZPh2h152epv-kn0rWZXwhM8MbPcaVSsOa5thzhY,1892
 test/gpu_test.py,sha256=lwL0nvQfcMHzS1tld9Pj3ElsujI6GaZTRA09Ik85lWA,4571
 test/grpc_utils_test.py,sha256=idjbD9XFiR4Tike8iiu_60nUX5iSv731_F40HXg8Jrs,2959
 test/helpers.py,sha256=MCCSkKM0Qw7_TjhIUB-5zgcJ7z8M3K0c-n6KLjmqn2M,1709
 test/image_test.py,sha256=NUTBREVJlohusHCpwZBqtiNGiceYwbCRC1cwOvF9P1M,32798
 test/live_reload_test.py,sha256=iP3TdMu4JjkS6rI7oaIPfgNqDBRpkg2v9OQD9iae5mA,2722
 test/lookup_test.py,sha256=uGauFaxUBNJPl3unMgqM8lHhQMWDAGM8W_r_aBotZgQ,2160
@@ -182,22 +186,22 @@
 test/sandbox_test.py,sha256=SRsZbZdZjaQwv7VfsUu2MjT7P23m4YmaVMNlvDm77mA,5254
 test/schedule_test.py,sha256=ZDFaaG7WAA6mx6qwlYPNlcf0LHE96uvGFcxfmrnqi78,354
 test/scheduler_placement_test.py,sha256=nd0OizTcsfMiTA6F8KholcZfUlD8Np-QjCReaT2P8us,737
 test/secret_test.py,sha256=QrS6hudMghVU61Bg5N2C9aqvGl85jzIzzRkin2JAJ8E,2506
 test/serialization_test.py,sha256=d_r5xDn85WkAK3ovMiNGtSxHC90_WM2kS2GSzhRjAnU,1867
 test/stub_composition_test.py,sha256=yMW7P0JqqwvKP_cP6kj7GTRiJl3dUjOd-nSED9mQItk,555
 test/stub_test.py,sha256=E9ErL1ovO5n1wSy3Nl667QH83jMQLGduRvTgb-2KKEs,10906
-test/test_asgi_wrapper.py,sha256=NzhKYIVVQhL9mTGJh8AWBEv_cTZ1uT9W9ngoLufL09M,7320
+test/test_asgi_wrapper.py,sha256=FPkh8FnZ1lEo4Y0fyCuCUZ85wf5U4nPNtwORBTE6OR0,7328
 test/token_flow_test.py,sha256=tbxqsDFzRiMCkxfexDzxbbEomrmNlqJjOpPm8ndPE_c,614
 test/traceback_test.py,sha256=3FNfnb00ek1gMVj8xcT8veAcyF4j4Fdrz3G9_giljsc,4747
 test/tunnel_test.py,sha256=5v3FGmYS3VAcQB1xMjoXnmU1jLGvKu27TgFkH42N09w,768
 test/utils_test.py,sha256=VRBxxpIAl3TvvY8X_rumvqCR-5ZozV2tfm_1Gy4ok6M,2679
 test/version_test.py,sha256=lii24csueJzXzv0HM0fvHD83N_9FOOFRl-VRmDQZnDA,403
 test/volume_test.py,sha256=auMLjBdHB7Zti1Mo8JXnngBTMwcIbVGya9a-5cHNZbc,14309
 test/watcher_test.py,sha256=RdtFZVsdQEdKo7WUy98SK6UJ795u8v--x3nuOTNEghc,1193
 test/webhook_test.py,sha256=jxf5-Vz2ECedwNWS7a506T7jJTEMfcJZ-NQPEet6kmI,4171
-modal-0.62.98.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
-modal-0.62.98.dist-info/METADATA,sha256=QDfleP2vfN1qpRatoFKY4Ko9gAuK8OSljGlx42j4fPM,2302
-modal-0.62.98.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-modal-0.62.98.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
-modal-0.62.98.dist-info/top_level.txt,sha256=AfUN7pr_AWNHp5av5c2h5ntw_83jrhQ2-ytzdC-S4Z0,69
-modal-0.62.98.dist-info/RECORD,,
+modal-0.62.99.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
+modal-0.62.99.dist-info/METADATA,sha256=mizHmWAbazkllF6HEyApDyR8eXHovQhrhjwcFqR-Zko,2302
+modal-0.62.99.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+modal-0.62.99.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
+modal-0.62.99.dist-info/top_level.txt,sha256=AfUN7pr_AWNHp5av5c2h5ntw_83jrhQ2-ytzdC-S4Z0,69
+modal-0.62.99.dist-info/RECORD,,
```

